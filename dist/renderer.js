var e={d:(t,n)=>{for(var r in n)e.o(n,r)&&!e.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:n[r]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.d(t,{Z:()=>Zs});var n={};e.r(n),e.d(n,{findInReactTree:()=>B,findInTree:()=>T,forceUpdateElement:()=>F,formatTime:()=>I,getOwnerInstance:()=>U,getReactInstance:()=>D,injectContextMenu:()=>J,sleep:()=>k,waitFor:()=>H,wrapInHooks:()=>V});var r={};e.r(r),e.d(r,{createUpdateWrapper:()=>ce,getProps:()=>oe,joinClassNames:()=>de,matchAll:()=>ue,omit:()=>le,random:()=>se,setProps:()=>ie,sleep:()=>ae,testJSON:()=>he,uuid:()=>pe});var a={};e.r(a),e.d(a,{Bin:()=>Be,Bulb:()=>Ue,Chemistry:()=>He,Clear:()=>ze,Close:()=>qe,CloudDownload:()=>Ge,CloudUpload:()=>We,CodeBraces:()=>Ye,Copy:()=>Xe,Discord:()=>tt,ExternalLink:()=>rt,FontAwesome:()=>an,Gear:()=>st,GitHub:()=>it,ImportExport:()=>lt,Info:()=>ut,Key:()=>ht,Keyboard:()=>ft,Overflow:()=>yt,Person:()=>Ct,PersonShield:()=>Et,Pin:()=>Rt,Plugin:()=>Ot,Receipt:()=>Pt,ReportFlag:()=>xt,Scale:()=>jt,Search:()=>kt,Server:()=>Tt,Spotify:()=>Bt,Sync:()=>Ut,Tag:()=>Ht,Theme:()=>zt,ThumbsDown:()=>qt,ThumbsUp:()=>Gt,Unlink:()=>Wt,Unpin:()=>Yt,Verified:()=>Xt,VerifiedBadge:()=>tn});var s={};e.r(s),e.d(s,{_fluxProps:()=>xn,connectStores:()=>Ln,registerSettings:()=>Pn,settings:()=>On,store:()=>Sn,tabs:()=>Nn,unregisterSettings:()=>Mn});var o={};e.r(o),e.d(o,{Plugin:()=>Yn,Theme:()=>Zn});var i={};e.r(i),e.d(i,{commands:()=>rr,handleCommand:()=>or,initialize:()=>sr,registerCommand:()=>ir,section:()=>ar,unregisterCommand:()=>cr});var c={};e.r(c),e.d(c,{injectStrings:()=>hr,loadAllStrings:()=>ur,loadStrings:()=>pr,locale:()=>dr,messages:()=>lr});var l={};e.r(l),e.d(l,{announcements:()=>_r,closeAnnouncement:()=>Ir,closeToast:()=>Dr,sendAnnouncement:()=>kr,sendToast:()=>Br,toasts:()=>Tr});var d={};e.r(d),e.d(d,{connections:()=>Fr,fetchAccounts:()=>Ur,filter:()=>Hr,get:()=>qr,map:()=>$r,registerConnection:()=>zr,unregisterConnection:()=>Vr});var u={};e.r(u),e.d(u,{commands:()=>i,connections:()=>d,i18n:()=>c,notices:()=>l,settings:()=>s});var p={};e.r(p),e.d(p,{close:()=>Gr,closeAll:()=>Zr,open:()=>Jr});var h={};e.r(h),e.d(h,{createServer:()=>Xr,get:()=>Yr,request:()=>Qr});var m={};e.r(m),e.d(m,{createServer:()=>na,get:()=>ea,request:()=>ta});var f={};e.r(f),e.d(f,{JSX:()=>ua,SASS:()=>da});var g={};e.r(g),e.d(g,{account:()=>ha,api:()=>u,compilers:()=>f,components:()=>on,constants:()=>la,entities:()=>o,fetchAccount:()=>ma,http:()=>ca,initialized:()=>pa,injector:()=>pn,modal:()=>p,once:()=>fa,pluginManager:()=>Gn,styleManager:()=>Kn,util:()=>n,webpack:()=>un});var y={};e.r(y),e.d(y,{ComponentPatcher:()=>X,DOM:()=>mr,DataStore:()=>Xa,DiscordModules:()=>L,Logger:()=>R,Patcher:()=>O,Utilities:()=>r,Webpack:()=>E,memoize:()=>ee});const v={Constants:{props:["API_HOST","ActionTypes"]},UserSettingsWindow:{props:["open","updateAccount"]},React:{props:["createElement","isValidElement"]},ReactDOM:{props:["render","createPortal"]},ReactSpring:{props:["useSpring","Controller","animated"]},Flux:{type:"MERGE",props:[["Store","Dispatcher"],["connectStores"]]},Dispatcher:{props:["dirtyDispatch"]},ContextMenuActions:{props:["openContextMenu"]},ModalsApi:{props:["openModal","useModalsStore"]},ModalStack:{props:["push","popAll"]},LocaleManager:{props:["Messages","getAvailableLocales"],ensure:e=>e.Messages.CLOSE},LocaleStore:{props:["locale","theme"]},Lodash:{props:["zipObjectDeep"]},MessageCreators:{props:["createBotMessage"]},MessageActions:{props:["receiveMessage"]},AvatarDefaults:{props:["BOT_AVATARS"]},Moment:{props:["momentProperties"]},SelectedChannelStore:{props:["_dispatchToken","getChannelId","getLastSelectedChannelId"]},Header:{name:"Header",props:["Tags","Sizes"]},ModalComponents:{props:["ModalRoot","ModalHeader"]},Link:{name:"Anchor"},Switch:{name:"Switch"},SwitchItem:{name:"SwitchItem"},TextInput:{name:"TextInput"},TextArea:{name:"TextArea"},SelectInput:{name:"SelectTempWrapper"},Tooltips:{props:["TooltipContainer"],rename:[{from:"default",to:"Tooltip"},{from:"TooltipContainer",to:"Container"},{from:"TooltipColors",to:"Colors"},{from:"TooltipPositions",to:"Positions"},{from:"TooltipLayer",to:"Layer"}]},Button:{props:["BorderColors","Colors"]},Slider:{name:"Slider"},ConfirmationModal:{name:"ConfirmModal"},Text:{name:"LegacyText"},Markdown:{name:"Markdown",props:["rules"]},Caret:{name:"Caret"},Forms:{props:["FormItem","FormTitle"]},Flex:{name:"Flex"},SearchBar:{name:"SearchBar"},Spinner:{name:"Spinner"},Scrollers:{props:["ScrollerAuto","ScrollerThin","default"]},Popout:{name:"Popout"},Badges:{props:["NumberBadge","TextBadge"],rename:[{from:"NumberBadge",to:"Number"},{from:"TextBadge",to:"Text"},{from:"IconBadge",to:"Icon"},{from:"BadgeShapes",to:"Shapes"}]},Margins:{props:["marginXLarge"]},FormClasses:{props:["formText","description"]},ContextMenu:{type:"MERGE",props:[["openContextMenu"],["MenuItem","MenuControlItem"]],rename:[{from:"default",to:"Menu"},{from:"MenuItem",to:"Item"},{from:"MenuGroup",to:"Group"},{from:"MenuCheckboxItem",to:"CheckboxItem"},{from:"MenuSeparator",to:"Separator"},{from:"MenuCheckboxItem",to:"CheckboxItem"},{from:"MenuRadioItem",to:"RadioItem"},{from:"MenuStyle",to:"Style"},{from:"MenuControlItem",to:"ControlItem"},{from:"openContextMenu",to:"open"},{from:"closeContextMenu",to:"close"}]},PlaceholderClasses:{props:["emptyStateImage","emptyStateSubtext"]}};"function"!=typeof Array.prototype.at&&Object.defineProperty(Array.prototype,"at",{value:function(e){return e<0?this[this.length-Math.abs(e)]:this[e]},enumerable:!1,configurable:!0}),"undefined"==typeof setImmediate&&(window.setImmediate=e=>setTimeout(e,0));class C{static byProps(...e){return t=>e.every((e=>e in t))}static byDisplayName(e,t=!1){return n=>(t?n=n.default:n)&&"function"==typeof n&&n.displayName===e}static byTypeString(...e){return t=>t.type&&(t=t.type?.toString())&&e.every((e=>t.indexOf(e)>-1))}}const w=new class{cache=null;#e=new Set;get Filters(){return C}get chunkName(){return"webpackChunkdiscord_app"}get id(){return Symbol("pc-compat")}constructor(){this.whenReady=this.waitForGlobal.then((()=>new Promise((async e=>{const[t,{ActionTypes:n}={},r]=await this.findByProps(["dirtyDispatch"],["API_HOST","ActionTypes"],["getCurrentUser","_dispatchToken"],{cache:!1,bulk:!0,wait:!0,forever:!0});if(r.getCurrentUser())return e();const a=function(){t.unsubscribe(n.START_SESSION,a),t.unsubscribe(n.CONNECTION_OPEN,a),e()};t.subscribe(n.START_SESSION,a),t.subscribe(n.CONNECTION_OPEN,a)})))),this.whenReady.then((()=>{let e=window[this.chunkName].push;const t=t=>{const[,n]=t;for(const e in n){const t=n[e];n[e]=(...e)=>{const[,n]=e;t.apply(t,e);const r=[...this.#e];for(let e=0;e<r.length;e++)try{r[e](n)}catch(e){console.error("[Webpack]","Could not fire callback listener:",e)}},Object.assign(n[e],t,{toString:t.toString.bind(t),__original:t})}return e.apply(window[this.chunkName],[t])};Object.defineProperty(window[this.chunkName],"push",{configurable:!0,get:()=>t,set:t=>{e=t}})}))}addListener(e){return this.#e.add(e),()=>{this.#e.delete(e)}}removeListener(e){return this.#e.delete(e)}findLazy(e){const t=this.findModule(e);return t?Promise.resolve(t):new Promise((t=>{const n=this.addListener((r=>{if(e(r))return t(r),void n();r.default&&e(r.default)&&(t(r.default),n())}))}))}async waitFor(e,{retries:t=100,all:n=!1,forever:r=!1,delay:a=50}={}){for(let s=0;s<t||r;s++){const t=this.findModule(e,{all:n,cache:!1});if(t)return t;await new Promise((e=>setTimeout(e,a)))}}parseOptions(e,t=(e=>"object"==typeof e&&null!=e&&!Array.isArray(e))){return[e,t(e.at(-1))?e.pop():{}]}request(e=!0){if(this.cache)return this.cache;if(Array.isArray(window[this.chunkName])){const e=[[this.id],{},e=>e];this.cache=window[this.chunkName].push(e),window[this.chunkName].splice(window[this.chunkName].indexOf(e),1)}return this.cache}findModule(e,{all:t=!1,cache:n=!0,force:r=!1,default:a=!1}={}){if("function"!=typeof e)return;const s=this.request(n),o=[];let i=null;if(!s)return;const c=function(t,n){try{return e(t,n)}catch(e){return i??=e,!1}};for(const e in s.c){const n=s.c[e].exports;if(n&&n!==window)switch(typeof n){case"object":if(c(n,e)){if(!t)return n;o.push(n)}if(n.__esModule&&null!=n.default&&"number"!=typeof n.default&&c(n.default,e)){const e=a?n:n.default;if(!t)return e;o.push(e)}if(r&&n.__esModule)for(const r in n)if(n[r]&&c(n[r],e)){if(!t)return n[r];o.push(n[r])}break;case"function":if(c(n,e)){if(!t)return n;o.push(n)}}}return i&&setImmediate((()=>{console.warn("[Webpack] filter threw an error. This can cause lag spikes at the user's end. Please fix asap.\n\n",i)})),t?o:o[0]}findModules(e){return this.findModule(e,{all:!0})}bulk(...e){const[t,{wait:n=!1,...r}]=this.parseOptions(e),a=new Array(t.length),s=n?this.waitFor:this.findModule,o=t.map((e=>(Array.isArray(e)&&(e=C.byProps(...e)),"string"==typeof e&&(e=C.byDisplayName(e)),t=>{try{return e(t)}catch(e){return!1}}))),i=s.call(this,(e=>{for(let t=0;t<o.length;t++){const n=o[t];"function"==typeof n&&n(e)&&null==a[t]&&(a[t]=e)}return a.filter(String).length===t.length}),r);return n?i.then((()=>a)):a}findByProps(...e){const[t,{bulk:n=!1,wait:r=!1,...a}]=this.parseOptions(e);if(!n&&!r)return this.findModule(C.byProps(...t),a);if(r&&!n)return this.waitFor(C.byProps(...t),a);if(n){const e=t.map((e=>C.byProps(...e))).concat({wait:r,...a});return this.bulk(...e)}return null}findByDisplayName(...e){const[t,{bulk:n=!1,wait:r=!1,...a}]=this.parseOptions(e);if(!n&&!r)return this.findModule(C.byDisplayName(t[0]),a);if(r&&!n)return this.waitFor(C.byDisplayName(t[0]),a);if(n){const e=t.map(e.map(C.byDisplayName)).concat({wait:r,cache});return this.bulk(...e)}return null}findIndex(e){let t=-1;return this.findModule(((n,r)=>{e(n)&&(t=r)})),t}atIndex(e){return this.request(!0)?.c[e]}get waitForGlobal(){return new Promise((async e=>{for(;!Array.isArray(window[this.chunkName]);)await new Promise(setImmediate);e()}))}async wait(e=null){return this.whenReady.then((()=>{"function"==typeof e&&e()}))}get whenExists(){return this.waitForGlobal}on(e,t){if("LOADED"===e)return this.whenReady.then(t)}get once(){return this.on}},E=w;class b{static cache=new Map;constructor(e,t=!1){this.module=e,t&&b.cache.set(e,this)}#t(e){switch(e){case"info":case"warn":case"error":case"debug":return e;default:return"log"}}#n(e,...t){console[this.#t(e)](`%c[Powercord:${this.module}]%c`,"color: #7289da; font-weight: 700;","",...t)}log(...e){this.#n("log",...e)}info(...e){this.#n("info",...e)}warn(...e){this.#n("warn",...e)}error(...e){this.#n("error",...e)}debug(...e){this.#n("debug",...e)}static create(e){return new b(e)}static getLogger(e){return this.cache.get(e)}}const R=b,S=R.create("Patcher");class O{static _patches=[];static getPatchesByCaller(e){if(!e)return[];const t=[];for(const n of this._patches)for(const r of n.children)r.caller===e&&t.push(r);return t}static unpatchAll(e){const t=this.getPatchesByCaller(e);if(t.length)for(const e of t)e.unpatch()}static makeOverride(e){return function(){let t,n=arguments;if(!e?.children?.length)return e.originalFunction.apply(this,arguments);for(const t of e.children.filter((e=>"before"===e.type)))try{const r=t.callback(this,n,e.originalFunction.bind(this));Array.isArray(r)&&(n=r)}catch(n){S.error(`Could not fire before patch for ${e.functionName} of ${t.caller}`,n)}const r=e.children.filter((e=>"instead"===e.type));if(r.length)for(const a of r)try{const r=a.callback(this,n,e.originalFunction.bind(this));void 0!==r&&(t=r)}catch(t){S.error(`Could not fire instead patch for ${e.functionName} of ${a.caller}`,t)}else t=e.originalFunction.apply(this,n);for(const r of e.children.filter((e=>"after"===e.type)))try{const e=r.callback(this,n,t,(e=>t=e));void 0!==e&&(t=e)}catch(t){S.error(`Could not fire after patch for ${e.functionName} of ${r.caller}`,t)}return t}}static pushPatch(e,t,n){const r={caller:e,module:t,functionName:n,originalFunction:t[n],undo:()=>{r.module[r.functionName]=r.originalFunction,r.children=[]},count:0,children:[]};return t[n]=this.makeOverride(r),t[`__powercordOriginal_${n}`]=r.originalFunction,Object.assign(t[n],r.originalFunction,{toString:()=>r.originalFunction.toString(),__originalFunction:r.originalFunction}),this._patches.push(r),r}static doPatch(e,t,n,r,a="after",s={}){let{displayName:o}=s;const i=this._patches.find((e=>e.module===t&&e.functionName===n))??this.pushPatch(e,t,n);"string"!=typeof o&&(o||t.displayName||t.name||t.constructor.displayName||t.constructor.name);const c={caller:e,type:a,id:i.count,callback:r,unpatch:()=>{if(i.children.splice(i.children.findIndex((e=>e.id===c.id&&e.type===a)),1),i.children.length<=0){const e=this._patches.findIndex((e=>e.module==t&&e.functionName==n));this._patches[e].undo(),this._patches.splice(e,1)}}};return i.children.push(c),i.count++,c.unpatch}static before(e,t,n,r){return this.doPatch(e,t,n,r,"before")}static after(e,t,n,r){return this.doPatch(e,t,n,r,"after")}static instead(e,t,n,r){return this.doPatch(e,t,n,r,"instead")}}const N={},P=e=>e,M=new Promise((e=>{const t=[];for(let e in v){const n=v[e];let r=P,a=null;if(Array.isArray(n.props))switch(n.type){case"MERGE":{let e=[];r=t=>{const r=n.props.some((e=>e.every((e=>e in t))));return r&&e.push(t),r},a=()=>Object.assign({},...e);break}default:r=e=>n.props.every((t=>t in e))}if(n.rename){const e=a??P;a=t=>{t=e(t);const r={...t};for(const{from:e,to:a}of n.rename)r[a]=t[e],delete r[e];return r}}if(n.name){const e=r;r=t=>(Array.isArray(n.name)?n.name.some((e=>t.displayName===e)):t.displayName===n.name)&&e(t)}if("function"==typeof n.ensure){const e=r;r=t=>e(t)&&n.ensure(t)}"function"==typeof r&&t.push({filter:r,map:a,id:e})}e(t)})),x=Promise.all([M,E.whenReady]).then((([e])=>{const t=E.bulk(...e.map((({filter:e})=>e)));Object.assign(N,e.reduce(((e,{id:n,map:r},a)=>{const s=(r??P)(t[a]);return e[n]=s,"React"==n&&Object.defineProperty(window,"React",{value:s,configurable:!0,writable:!0}),e}),{}))})),L=N,j=new EventTarget,A=R.create("Utilities"),k=e=>new Promise((t=>setTimeout(t,e)));function I(e){return e=Math.floor(e/1e3),[Math.floor(e/3600)%24,Math.floor(e/60)%60,e%60].map((e=>e<10?`0${e}`:e)).filter(((e,t)=>"00"!==e||t>0)).join(":")}function T(e={},t=(e=>e),{ignore:n=[],walkable:r=[],maxProperties:a=100}={}){let s=[e];const o=function(...e){try{return Reflect.apply(t,this,e)}catch{return!1}};for(;s.length&&a;){const e=s.shift();if(o(e))return e;if(Array.isArray(e))s.push(...e);else if("object"==typeof e&&null!==e)if(r.length)for(const t in e){const a=e[t];~r.indexOf(t)&&!~n.indexOf(t)&&s.push(a)}else for(const t in e){const r=e[t];e&&~n.indexOf(t)||s.push(r)}a--}}function B(e,t,n={}){return T(e,t,{...n,walkable:["props","children"]})}function D(e){return e.__reactFiber$}function U(e,t=(e=>!0)){if(!e)return null;let n=D(e);for(;!(n?.stateNode instanceof L.React.Component&&t(n?.stateNode));)n=n?.return;return n?.stateNode??null}function F(e){U(document.querySelector(e))?.forceUpdate()}async function H(e){let t=document.querySelector(e);do{await k(1)}while(!(t=document.querySelector(e)));return t}const $={useMemo:e=>e(),useState:e=>[e,()=>{}],useReducer:e=>[e,()=>{}],useEffect:()=>{},useLayoutEffect:()=>{},useRef:()=>({current:null}),useCallback:e=>e},z=Object.keys($);function V(e){return(...t)=>{const n=React.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentDispatcher.current,r=z.map((e=>[e,n[e]]));Object.assign(n,$);let a=null,s=null;try{a=e()}catch(e){s=e}if(Object.assign(n,Object.fromEntries(r)),s)throw s;return a}}const q={};function J(e,t,n,r=!1){q[t]??=[],q[t].push({id:e,name:t,func:n,before:r})}function G(){return G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},G.apply(this,arguments)}function Z({_provider:e,_fallback:t,...n}){const[r,a]=L.React.useState((()=>t??(()=>null)));return L.React.useEffect((()=>{e().then((e=>a((()=>e))))}),[e,t]),React.createElement(r,G({},n))}function W(e,t){const[n,r]=function(){const e=new Set;return[function(){for(const t of[...e])try{t()}catch(e){console.error(e)}},function(){const[,t]=L.React.useReducer((e=>!e),!1);L.React.useEffect((()=>(e.add(t),e.delete.bind(e,t))),[])}]}(),a={resolved:!1,component:null};return e.then((e=>{Object.assign(a,{component:e,resolved:!0}),n()})),n=>(r(),a.resolved?React.createElement(a.component,n):L.React.createElement(Z,{_provider:()=>e,_fallback:t,...n}))}x.then((()=>{const e=E.findByProps("openContextMenuLazy");O.before("pc-context-menu-opener",e,"openContextMenuLazy",((e,t,n)=>{const r=t[1];return t[1]=async()=>{const e=await r(t[0]);return t=>{const n=e(t),r="object"==typeof n.type?n.props.children:n,a=r?.type?.displayName,s=q[a]?.filter((e=>!e.applied));if(a&&s?.length){const e=E.findModule((e=>e.default?.displayName===a));for(const t of s)O[t.before?"before":"after"].bind(O)(t.id,e,"default",((e,...n)=>t.func.apply(e,n))),t.applied=!0;delete q[a]}else if(!a){const e=V(r.type)(r.props)?.props?.children?.type?.displayName,t=q[e]?.filter((e=>!e.applied)),a=E.findModule((e=>[e.default,e.__powercordOriginal_default].includes(r.type)));if(!a)return n;for(const e of t??[])O.after(e.id,a,"default",((t,n,r)=>{const a=r.props.children.type;return e.memo??=function(...t){if(e.before)return a.apply(this,[e.func.apply(this,[t])]);const n=a.apply(this,t);try{return e.func.apply(this,[t,n])}catch(t){return A.error(`Failed to run context menu injection with id ${e.id}`,t),n}},r.props.children.type=e.memo,r})),e.applied=!0;delete q[e],r.type=a.default}return n}},t})),j.addEventListener("reload-core",(()=>{O.unpatchAll("pc-context-menu-opener");for(const e of Object.keys(q))q[e].map((e=>O.unpatchAll(e.id)))}))}));const K=W;function Y(){return Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Y.apply(this,arguments)}Object.assign(Z,{from:W,fromDisplayName:function(e,t){return W(E.findByDisplayName(e,{wait:!0}),t)}});const Q=new R("ComponentPatcher"),X=x.then((()=>{!function(){const e=E.findByProps("AnimatedAvatar");O.after("pc-utility-classes-avatar",e,"default",((e,t,n)=>(t[0]?.src?.includes("/avatars")&&(n.props["data-user-id"]=t[0].src.match(/\/(?:avatars|users)\/(\d+)/)?.[1]),n))),O.after("pc-utility-classes-animated-avatar",e.AnimatedAvatar,"type",((t,n,r)=>React.createElement(e.default,Y({},r.props))));const t=E.findByProps("wrapper","avatar")?.wrapper?.split(" ")?.[0];setImmediate((()=>F(`.${t}`)))}(),function(){const e=E.findModule((e=>e?.toString()?.indexOf("childrenSystemMessage")>-1));if(!e)return Q.warn("Message Component was not found!");e.displayName="Message"}(),function(){const e=E.findByProps("connectStores");e.connectStoresAsync=function(t,n){return r=>K(Promise.all(t).then((t=>e.connectStores(t,(e=>n(t,e)))(r))))}}(),j.addEventListener("reload-core",(()=>{O.unpatchAll("pc-utility-classes-animated-avatar"),O.unpatchAll("pc-utility-classes-avatar")}))}));function ee(e,t,n){return Object.defineProperty(e,t,{value:n,configurable:!0}),n}const te=window.process?.contextIsolated??1?class{static readFileSync(e,t="utf8"){return PCCompatNative.executeJS(`require("fs").readFileSync(${JSON.stringify(e)}, ${JSON.stringify(t)});`)}static writeFileSync(e,t,n){return PCCompatNative.executeJS(`require("fs").writeFileSync(${JSON.stringify(e)}, ${JSON.stringify(t)}, ${JSON.stringify(n)})`)}static writeFile(e,t,n,r){"function"==typeof n&&(r=n,n=null);const a={error:null};try{this.writeFileSync(e,t,n)}catch(e){a.error=e}r(a.error)}static readdirSync(e,t){return PCCompatNative.executeJS(`require("fs").readdirSync(${JSON.stringify(e)}, ${JSON.stringify(t)});`)}static existsSync(e){return PCCompatNative.executeJS(`require("fs").existsSync(${JSON.stringify(e)});`)}static mkdirSync(e,t){return PCCompatNative.executeJS(`require("fs").mkdirSync(${JSON.stringify(e)}, ${JSON.stringify(t)});`)}static statSync(e,t){return PCCompatNative.executeJS(`\n            const stats = require("fs").statSync(${JSON.stringify(e)}, ${JSON.stringify(t)});\n            const ret = {\n                ...stats,\n                isFile: () => stats.isFile(),\n                isDirectory: () => stats.isDirectory()\n            };\n            ret\n        `)}static renameSync(e,t){return PCCompatNative.executeJS(`require("fs").renameSync(${JSON.stringify(e)}, ${JSON.stringify(t)});`)}static watch(e,t,n){"function"==typeof t&&(n=t,t=null);const r="bdcompat-watcher-"+Math.random().toString(36).slice(2,10);return PCCompatNative.IPC.on(r,((e,t)=>{n(e,t)})),PCCompatNative.executeJS(`\n            require("fs").watch(${JSON.stringify(e)}, ${JSON.stringify(t)}, (event, filename) => {\n                PCCompatNative.IPC.dispatch(${JSON.stringify(r)}, event, filename);\n            });\n        `)}static get promises(){const e=PCCompatNative.executeJS('\n            const fs = require("fs");\n            const keys = Object.keys(fs.promises);\n\n            keys.map(key => [\n                key,\n                fs.promises[key].toString(),\n                (...args) => fs.promises[key](...args)\n            ]);\n        ').reduce(((e,[t,n,r])=>(Object.defineProperty(e,t,{configurable:!0,get(){return ee(this,t,Object.assign(r,{toString:()=>n}))}}),e)),{});return ee(this,"promises",e)}}:window.require("fs"),ne=PCCompatNative.executeJS('require("path")'),re={SwitchItem:{updater:!0,filter:"SwitchItem",settings:!0},Button:{updater:!1,filter:["DropdownSizes"],settings:!1},FormNotice:{updater:!1,filter:"FormNotice",settings:!1},Card:{updater:!1,filter:"Card",settings:!1},Clickable:{updater:!1,filter:"Clickable",settings:!1},Spinner:{updater:!1,filter:"Spinner",settings:!1},FormTitle:{updater:!1,filter:"FormTitle",settings:!1},HeaderBar:{updater:!1,filter:"HeaderBar",settings:!1},TabBar:{updater:!1,filter:"TabBar",settings:!1},Text:{updater:!1,filter:"LegacyText",settings:!1},Flex:{updater:!1,filter:"Flex",settings:!1},Tooltip:{updater:!1,filter:["TooltipContainer"],prop:"TooltipContainer",settings:!1},AdvancedScrollerThin:{updater:!1,filter:["AdvancedScrollerThin"],prop:"AdvancedScrollerThin",settings:!1},AdvancedScrollerAuto:{updater:!1,filter:["AdvancedScrollerAuto"],prop:"AdvancedScrollerAuto",settings:!1},AdvancedScrollerNone:{updater:!1,filter:["AdvancedScrollerNone"],prop:"AdvancedScrollerNone",settings:!1},Menu:{updater:!1,filter:["MenuGroup"],rename:[{from:"default",to:"Menu"}],prop:["MenuCheckboxItem","MenuControlItem","MenuGroup","MenuItem","MenuRadioItem","MenuSeparator","MenuStyle"],settings:!1}};function ae(e){return new Promise((t=>setTimeout(t,e)))}function se(e=10){return Math.random().toString(36).slice(2,e+2)}function oe(e,t){return t?t.split(".").reduce(((e,t)=>e&&e[t]),e):e}function ie(e,t,n){if(!t)return e;const r=t.split("."),a=r.pop();let s=r.length?oe(e,r.join(".")):e;return s?(s[a]=n,e):e}const ce=(e,t="value",n="onChange",r="0",a=0)=>s=>{const[o,i]=L.React.useState(s[t]);return L.React.createElement(e,{...s,[t]:o,[n]:(...e)=>{const t=oe(e,r);"function"==typeof s[n]&&s[n](e[a]),i(t)}})};function le(e,...t){if(Array.isArray(e))return e.reduce(((e,n)=>t.includes(n)?e:e.concat(n)),[]);const n={};for(const r in e)t.includes(r)||(n[r]=e[r]);return n}function de(...e){let t=[];for(const n of e)if("string"!=typeof n){if(Array.isArray(n)){const[e,r]=n;if(!e)continue;t.push(r)}}else t.push(n);return t.join(" ")}function ue(e,t,n=!1){let r,a=[];for(;r=e.exec(t);)if(n)a.push(r);else{const[,...e]=r;a.push(e)}return a}function pe(e=30){let t="";do{const e=16*Math.random()|0;t+=(12==t.length?4:16==t.length?3&e|8:e).toString(16)}while(t.length<e);return t}const he=function(e){try{return JSON.parse(e)}catch(e){return!1}},me=K(x.then((()=>{const{Forms:e}=L;return function(){return React.createElement(e.FormDivider,{className:"pc-settings-divider"})}}))),fe=K(x.then((()=>{const{Forms:e,Flex:t,FormClasses:n,Margins:r}=L;return function({title:a,required:s,children:o,note:i,noteHasMargin:c}){const l=[n.description,c&&r.marginTop8].filter(Boolean).join(" ");return React.createElement(e.FormItem,{className:`${t.Direction.VERTICAL} ${t.Justify.START} ${t.Align.STRETCH} ${t.Wrap.NO_WRAP} ${r.marginBottom20}`,required:s,title:a},o,i&&React.createElement(e.FormText,{className:l},i),React.createElement(me,null))}})));function ge(){return ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ge.apply(this,arguments)}function ye(e){const{TextInput:t}=L,{children:n,note:r,required:a}=e;return delete e.children,React.createElement(fe,{title:n,note:r,required:a,noteHasMargin:!0},React.createElement(t,ge({},e,{required:a})))}class ve{static#r={};static byProps(...e){const t=e.join(":");return this.#r[t]||(this.#r[t]=E.findModule((t=>e.every((e=>e in t))&&("default"in t||"function"==typeof t)))),this.#r[t]}static get(e,t=(e=>e)){return this.#r[e]||(this.#r[e]=E.findModule((n=>n.displayName===e&&t(n)))),this.#r[e]}}function Ce(){return Ce=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ce.apply(this,arguments)}function we(){return we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}const Ee=K(x.then((()=>{const{Forms:e,Text:t}=L,n=ve.get("Caret");return function({children:r,opened:a,onChange:s,name:o,description:i}){return React.createElement("div",{className:de("pc-category",[a,"pc-category-opened"])},React.createElement("div",{className:"pc-category-header",onClick:s},React.createElement("div",{className:"pc-category-details"},React.createElement(e.FormTitle,{color:t.Colors.HEADER_PRIMARY,tag:e.FormTitle.Tags.H3,size:t.Sizes.SIZE_16,className:"pc-category-details-title"},o),React.createElement(e.FormText,{color:t.Colors.HEADER_SECONDARY,size:t.Sizes.SIZE_14,className:"pc-category-details-description"},i)),React.createElement(n,{direction:a?n.Directions.DOWN:n.Directions.RIGHT,className:"pc-category-caret"})),React.createElement("div",{className:"pc-category-content "+(a?"pc-margin-top-20":"")},a&&r),!a&&React.createElement(me,null))}})));function be(){return be=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},be.apply(this,arguments)}const Re=K(x.then((()=>{const{TextArea:e}=L;return function(t){const{children:n,note:r,required:a}=t;return delete t.children,React.createElement(fe,{title:n,note:r,required:a},React.createElement(e,be({},t)))}}))),Se=K(x.then((()=>{const e=E.findModules((e=>"function"==typeof e&&-1!==e.toString().indexOf('"currentColor"')));return Se.Names=e.map((e=>e.displayName)),function(t){const n=e.find((e=>e.displayName===t.name)),r=_.cloneDeep(t);return delete r.name,React.createElement(n,r)}}))),Oe=Se,Ne=K(x.then((()=>{const{Margins:e,Markdown:t}=L,{error:n,backgroundRed:r,icon:a,text:s}=E.findByProps("error","backgroundRed");return function({children:o}){return React.createElement("div",{className:`${n} ${r} ${e.marginBottom20}`},React.createElement(Oe,{className:a,name:"WarningCircle"}),React.createElement("div",{className:s},React.createElement(t,null,o)))}}))),Pe=K(x.then((()=>class extends L.React.Component{state={hasError:!1,error:null};static getDerivedStateFromError(e){return{hasError:!0,error:e.message}}componentDidCatch(e,t){console.error(e,t)}render(){return this.state.hasError?React.createElement(Ne,null,this.state.error):this.props.children}})));function Me(){return Me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Me.apply(this,arguments)}const xe=K(E.whenReady.then((()=>{const e=E.findByDisplayName("ColorPicker")??(()=>{try{const e=E.findByDisplayName("GuildFolderSettingsModal");if(!e)throw"GuildFolderSettingsModal was not found!";const t=B(e.prototype.render.call({state:{},props:{}}),(e=>null!=e?.props?.defaultColor)).type;if("function"!=typeof t)throw"ColorPicker could not be found!";return t}catch(e){return R.getLogger("Components")?.error("Failed to get ColorPicker component!",e),()=>null}})();return t=>React.createElement(Pe,null,React.createElement(e,Me({},t)))}))),Le=xe;function je(){return je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(this,arguments)}const Ae=K(x.then((()=>{const{Slider:e}=L;return function(t){const{children:n,note:r,required:a}=t;return delete t.children,React.createElement(fe,{title:n,note:r,required:a},React.createElement(e,je({},Object.assign({},t,{className:[t.className,"pc-margin-top-20"].filter((e=>e)).join(" ")}))))}})));function ke(){return ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)}const Ie={};E.whenReady.then((()=>{const e=E.findByProps("ModalRoot"),t=le(Object.keys(e),"default","ModalRoot"),n=Object.fromEntries(t.map((t=>["ModalSize"===t?"Sizes":t.slice("Modal".length),e[t]])));Object.assign(Ie,n,{Confirm:E.findByDisplayName("ConfirmModal"),Modal:Object.assign((t=>React.createElement(e.ModalRoot,{transitionState:1,...t})),n)})}));const Te=Ie;function _e(){return _e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}const Be=e=>React.createElement("svg",_e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 21"},e),React.createElement("path",{fill:"currentColor",d:"M1.60772 16C1.60772 17.1 2.49904 18 3.58843 18H11.5112C12.6006 18 13.4919 17.1 13.4919 16V6C13.4919 4.9 12.6006 4 11.5112 4H3.58843C2.49904 4 1.60772 4.9 1.60772 6V16ZM4.74714 8.17C4.83876 8.0773 4.94759 8.00375 5.06739 7.95357C5.1872 7.90339 5.31563 7.87756 5.44534 7.87756C5.57504 7.87756 5.70347 7.90339 5.82328 7.95357C5.94309 8.00375 6.05191 8.0773 6.14354 8.17L7.54984 9.59L8.95614 8.17C9.04782 8.07742 9.15667 8.00398 9.27647 7.95387C9.39627 7.90377 9.52467 7.87798 9.65433 7.87798C9.784 7.87798 9.9124 7.90377 10.0322 7.95387C10.152 8.00398 10.2608 8.07742 10.3525 8.17C10.4442 8.26258 10.517 8.37249 10.5666 8.49346C10.6162 8.61442 10.6417 8.74407 10.6417 8.875C10.6417 9.00593 10.6162 9.13558 10.5666 9.25654C10.517 9.37751 10.4442 9.48742 10.3525 9.58L8.94623 11L10.3525 12.42C10.4442 12.5126 10.517 12.6225 10.5666 12.7435C10.6162 12.8644 10.6417 12.9941 10.6417 13.125C10.6417 13.2559 10.6162 13.3856 10.5666 13.5065C10.517 13.6275 10.4442 13.7374 10.3525 13.83C10.2608 13.9226 10.152 13.996 10.0322 14.0461C9.9124 14.0962 9.784 14.122 9.65433 14.122C9.52467 14.122 9.39627 14.0962 9.27647 14.0461C9.15667 13.996 9.04782 13.9226 8.95614 13.83L7.54984 12.41L6.14354 13.83C6.05185 13.9226 5.943 13.996 5.8232 14.0461C5.7034 14.0962 5.575 14.122 5.44534 14.122C5.31567 14.122 5.18727 14.0962 5.06747 14.0461C4.94768 13.996 4.83883 13.9226 4.74714 13.83C4.65545 13.7374 4.58272 13.6275 4.5331 13.5065C4.48348 13.3856 4.45794 13.2559 4.45794 13.125C4.45794 12.9941 4.48348 12.8644 4.5331 12.7435C4.58272 12.6225 4.65545 12.5126 4.74714 12.42L6.15344 11L4.74714 9.58C4.65533 9.48749 4.58249 9.3776 4.53279 9.25662C4.4831 9.13565 4.45752 9.00597 4.45752 8.875C4.45752 8.74403 4.4831 8.61435 4.53279 8.49338C4.58249 8.3724 4.65533 8.26251 4.74714 8.17ZM11.0161 1L10.3129 0.29C10.1347 0.11 9.87716 0 9.61967 0H5.48C5.22251 0 4.96502 0.11 4.78675 0.29L4.0836 1H1.60772C1.06303 1 0.617371 1.45 0.617371 2C0.617371 2.55 1.06303 3 1.60772 3H13.4919C14.0366 3 14.4823 2.55 14.4823 2C14.4823 1.45 14.0366 1 13.4919 1H11.0161Z"}));function De(){return De=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},De.apply(this,arguments)}const Ue=e=>React.createElement("svg",De({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"currentColor",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 1 1 7.072 0l-.548.547A3.374 3.374 0 0 0 14 18.469V19a2 2 0 1 1-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"}));function Fe(){return Fe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Fe.apply(this,arguments)}const He=e=>React.createElement("svg",Fe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 640 1024"},e),React.createElement("path",{fill:"currentColor",d:"M618 971L448 769V416h21q14 0 23-9.5t9-23t-9-22.5t-23-9h-53q-13 0-22.5 9t-9.5 23v397q0 13 8 22l131 157H117l131-157q8-9 8-22V384q0-14-9.5-23t-22.5-9h-53q-14 0-23 9t-9 22.5t9 23t23 9.5h21v353L22 971q-14 15-6 34q4 9 12 14t17 5h550q20 0 28.5-19t-5.5-34zM288 320q26 0 45-19t19-45.5t-19-45t-45-18.5q-13 0-25 5t-20.5 13.5T229 231t-5 25q0 6 1 11.5t3 10.5t5 10t6.5 9t7.5 7.5t9 6.5t10 5t10.5 3t11.5 1zm208.5-95q46.5 0 79.5-33t33-79.5T576 33T496.5 0T417 33t-33 79.5t33 79.5t79.5 33zM496 64q10 0 19 3.5t15.5 10t10 15.5t3.5 19q0 20-14 34t-34 14q-13 0-24-6.5T454.5 136t-6.5-24q0-20 14-34t34-14z"}));function $e(){return $e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$e.apply(this,arguments)}const ze=e=>React.createElement("svg",$e({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 14 14"},e),React.createElement("path",{fill:"currentColor",d:"M7.02799 0.333252C3.346 0.333252 0.361328 3.31792 0.361328 6.99992C0.361328 10.6819 3.346 13.6666 7.02799 13.6666C10.71 13.6666 13.6947 10.6819 13.6947 6.99992C13.6947 3.31792 10.7093 0.333252 7.02799 0.333252ZM10.166 9.19525L9.22333 10.1379L7.02799 7.94325L4.83266 10.1379L3.89 9.19525L6.08466 6.99992L3.88933 4.80459L4.832 3.86259L7.02733 6.05792L9.22266 3.86259L10.1653 4.80459L7.97066 6.99992L10.166 9.19525Z"}));function Ve(){return Ve=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ve.apply(this,arguments)}const qe=e=>React.createElement("svg",Ve({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 12 12"},e),React.createElement("g",{fill:"currentColor"},React.createElement("path",{d:"M9.5 3.205L8.795 2.5 6 5.295 3.205 2.5l-.705.705L5.295 6 2.5 8.795l.705.705L6 6.705 8.795 9.5l.705-.705L6.705 6"})));function Je(){return Je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Je.apply(this,arguments)}const Ge=e=>React.createElement("svg",Je({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 25 21"},e),React.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.59741 15.0117L12.5588 19.0117L16.5202 15.0117 M12.5588 10.0117V19.0117 M21.3531 16.1017C22.2141 15.4903 22.8598 14.6178 23.1965 13.6108C23.5331 12.6038 23.5432 11.5147 23.2253 10.5015C22.9074 9.48829 22.278 8.60374 21.4285 7.97621C20.5789 7.34869 19.5535 7.01082 18.5009 7.01165H17.2531C16.9552 5.83953 16.3979 4.7509 15.6231 3.82773C14.8482 2.90456 13.8761 2.17091 12.7798 1.68201C11.6836 1.1931 10.4918 0.961679 9.2941 1.00517C8.09645 1.04866 6.92417 1.36592 5.86552 1.93308C4.80688 2.50023 3.88944 3.3025 3.18229 4.27948C2.47514 5.25646 1.99671 6.3827 1.783 7.5734C1.56929 8.76411 1.62588 9.98825 1.9485 11.1537C2.27113 12.3191 2.85139 13.3954 3.64559 14.3017"}));function Ze(){return Ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ze.apply(this,arguments)}const We=e=>React.createElement("svg",Ze({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{fill:"currentColor",d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM14 13v4h-4v-4H7l5-5 5 5h-3z"}));function Ke(){return Ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ke.apply(this,arguments)}const Ye=e=>React.createElement("svg",Ke({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"currentColor",d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2m-8 5H9v2c0 1.1-.9 2-2 2c1.1 0 2 .9 2 2v2h2v2H9c-1.1 0-2-.9-2-2v-1c0-1.1-.9-2-2-2v-2c1.1 0 2-.9 2-2V8c0-1.1.9-2 2-2h2v2m8 5c-1.1 0-2 .9-2 2v1c0 1.1-.9 2-2 2h-2v-2h2v-2c0-1.1.9-2 2-2c-1.1 0-2-.9-2-2V8h-2V6h2c1.1 0 2 .9 2 2v1c0 1.1.9 2 2 2v2z"}));function Qe(){return Qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qe.apply(this,arguments)}const Xe=e=>React.createElement("svg",Qe({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("g",{fill:"currentColor"},React.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1z M15 5H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z"})));function et(){return et=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},et.apply(this,arguments)}const tt=e=>React.createElement("svg",et({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 245 240"},e),React.createElement("g",{fill:"currentColor"},React.createElement("path",{d:"M104.4 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1.1-6.1-4.5-11.1-10.2-11.1zM140.9 103.9c-5.7 0-10.2 5-10.2 11.1s4.6 11.1 10.2 11.1c5.7 0 10.2-5 10.2-11.1s-4.5-11.1-10.2-11.1z"}),React.createElement("path",{d:"M189.5 20h-134C44.2 20 35 29.2 35 40.6v135.2c0 11.4 9.2 20.6 20.5 20.6h113.4l-5.3-18.5 12.8 11.9 12.1 11.2 21.5 19V40.6c0-11.4-9.2-20.6-20.5-20.6zm-38.6 130.6s-3.6-4.3-6.6-8.1c13.1-3.7 18.1-11.9 18.1-11.9-4.1 2.7-8 4.6-11.5 5.9-5 2.1-9.8 3.5-14.5 4.3-9.6 1.8-18.4 1.3-25.9-.1-5.7-1.1-10.6-2.7-14.7-4.3-2.3-.9-4.8-2-7.3-3.4-.3-.2-.6-.3-.9-.5-.2-.1-.3-.2-.4-.3-1.8-1-2.8-1.7-2.8-1.7s4.8 8 17.5 11.8c-3 3.8-6.7 8.3-6.7 8.3-22.1-.7-30.5-15.2-30.5-15.2 0-32.2 14.4-58.3 14.4-58.3 14.4-10.8 28.1-10.5 28.1-10.5l1 1.2c-18 5.2-26.3 13.1-26.3 13.1s2.2-1.2 5.9-2.9c10.7-4.7 19.2-6 22.7-6.3.6-.1 1.1-.2 1.7-.2 6.1-.8 13-1 20.2-.2 9.5 1.1 19.7 3.9 30.1 9.6 0 0-7.9-7.5-24.9-12.7l1.4-1.6s13.7-.3 28.1 10.5c0 0 14.4 26.1 14.4 58.3 0 0-8.5 14.5-30.6 15.2z"})));function nt(){return nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nt.apply(this,arguments)}const rt=e=>React.createElement("svg",nt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"currentColor",d:"M10 5V3H5.375C4.06519 3 3 4.06519 3 5.375V18.625C3 19.936 4.06519 21 5.375 21H18.625C19.936 21 21 19.936 21 18.625V14H19V19H5V5H10Z M21 2.99902H14V4.99902H17.586L9.29297 13.292L10.707 14.706L19 6.41302V9.99902H21V2.99902Z"}));function at(){return at=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},at.apply(this,arguments)}const st=e=>React.createElement("svg",at({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd",d:"M19.738 10H22V14H19.739C19.498 14.931 19.1 15.798 18.565 16.564L20 18L18 20L16.565 18.564C15.797 19.099 14.932 19.498 14 19.738V22H10V19.738C9.069 19.498 8.203 19.099 7.436 18.564L6 20L4 18L5.436 16.564C4.901 15.799 4.502 14.932 4.262 14H2V10H4.262C4.502 9.068 4.9 8.202 5.436 7.436L4 6L6 4L7.436 5.436C8.202 4.9 9.068 4.502 10 4.262V2H14V4.261C14.932 4.502 15.797 4.9 16.565 5.435L18 3.999L20 5.999L18.564 7.436C19.099 8.202 19.498 9.069 19.738 10ZM12 16C14.2091 16 16 14.2091 16 12C16 9.79086 14.2091 8 12 8C9.79086 8 8 9.79086 8 12C8 14.2091 9.79086 16 12 16Z"}));function ot(){return ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ot.apply(this,arguments)}const it=e=>React.createElement("svg",ot({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2px",d:"M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"}));function ct(){return ct=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ct.apply(this,arguments)}const lt=e=>React.createElement("svg",ct({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"currentColor",d:"M16 17.01V11c0-.55-.45-1-1-1s-1 .45-1 1v6.01h-1.79c-.45 0-.67.54-.35.85l2.79 2.78c.2.19.51.19.71 0l2.79-2.78c.32-.31.09-.85-.35-.85H16zM8.65 3.35L5.86 6.14c-.32.31-.1.85.35.85H8V13c0 .55.45 1 1 1s1-.45 1-1V6.99h1.79c.45 0 .67-.54.35-.85L9.35 3.35c-.19-.19-.51-.19-.7 0z"}));function dt(){return dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dt.apply(this,arguments)}const ut=e=>React.createElement("svg",dt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("g",{fill:"none","fill-rule":"evenodd"},React.createElement("rect",{width:"24",height:"24"}),React.createElement("path",{fill:"currentColor",d:"M9,7 L11,7 L11,5 L9,5 L9,7 Z M10,18 C5.59,18 2,14.41 2,10 C2,5.59 5.59,2 10,2 C14.41,2 18,5.59 18,10 C18,14.41 14.41,18 10,18 L10,18 Z M10,4.4408921e-16 C4.4771525,-1.77635684e-15 4.4408921e-16,4.4771525 0,10 C-1.33226763e-15,12.6521649 1.0535684,15.195704 2.92893219,17.0710678 C4.80429597,18.9464316 7.3478351,20 10,20 C12.6521649,20 15.195704,18.9464316 17.0710678,17.0710678 C18.9464316,15.195704 20,12.6521649 20,10 C20,7.3478351 18.9464316,4.80429597 17.0710678,2.92893219 C15.195704,1.0535684 12.6521649,2.22044605e-16 10,0 L10,4.4408921e-16 Z M9,15 L11,15 L11,9 L9,9 L9,15 L9,15 Z",transform:"translate(2 2)"})));function pt(){return pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pt.apply(this,arguments)}const ht=e=>React.createElement("svg",pt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"currentColor",d:"M12.65 10C11.83 7.67 9.61 6 7 6c-3.31 0-6 2.69-6 6s2.69 6 6 6c2.61 0 4.83-1.67 5.65-4H17v4h4v-4h2v-4H12.65zM7 14c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z"}));function mt(){return mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},mt.apply(this,arguments)}const ft=e=>React.createElement("svg",mt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"currentColor",d:"M20 5H4c-1.1 0-1.99.9-1.99 2L2 17c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm-9 3h2v2h-2V8zm0 3h2v2h-2v-2zM8 8h2v2H8V8zm0 3h2v2H8v-2zm-1 2H5v-2h2v2zm0-3H5V8h2v2zm8 7H9c-.55 0-1-.45-1-1s.45-1 1-1h6c.55 0 1 .45 1 1s-.45 1-1 1zm1-4h-2v-2h2v2zm0-3h-2V8h2v2zm3 3h-2v-2h2v2zm0-3h-2V8h2v2z"}));function gt(){return gt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gt.apply(this,arguments)}const yt=e=>React.createElement("svg",gt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"currentColor",d:"M12 16c1.1045695 0 2 .8954305 2 2s-.8954305 2-2 2-2-.8954305-2-2 .8954305-2 2-2zm0-6c1.1045695 0 2 .8954305 2 2s-.8954305 2-2 2-2-.8954305-2-2 .8954305-2 2-2zm0-6c1.1045695 0 2 .8954305 2 2s-.8954305 2-2 2-2-.8954305-2-2 .8954305-2 2-2z"}));function vt(){return vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vt.apply(this,arguments)}const Ct=e=>React.createElement("svg",vt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"currentColor",d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4s-4 1.79-4 4s1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}));function wt(){return wt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wt.apply(this,arguments)}const Et=e=>React.createElement("svg",wt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 23"},e),React.createElement("g",{fill:"none","fill-rule":"evenodd"},React.createElement("path",{fill:"currentColor",d:"M19.487 5.126L10.487 0.126C10.184 -0.042 9.81798 -0.042 9.51498 0.126L0.514977 5.126C0.197977 5.302 0.000976562 5.636 0.000976562 5.999C0.000976562 6.693 0.114977 22.999 10.001 22.999C19.887 22.999 20.001 6.693 20.001 5.999C20.001 5.636 19.804 5.302 19.487 5.126ZM10.001 5.999C11.382 5.999 12.501 7.118 12.501 8.499C12.501 9.88 11.382 10.999 10.001 10.999C8.61998 10.999 7.50098 9.88 7.50098 8.499C7.50098 7.118 8.61998 5.999 10.001 5.999ZM6.25098 16C6.25098 13.699 7.69998 12.25 10.001 12.25C12.302 12.25 13.751 13.699 13.751 16H6.25098Z"})));function bt(){return bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bt.apply(this,arguments)}const Rt=e=>React.createElement("svg",bt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"currentColor",d:"M19 3H5V5H7V12H5V14H11V22H13V14H19V12H17V5H19V3Z"}));function St(){return St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},St.apply(this,arguments)}const Ot=e=>React.createElement("svg",St({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"currentColor",d:"M20.5 11H19V7c0-1.1-.9-2-2-2h-4V3.5C13 2.12 11.88 1 10.5 1S8 2.12 8 3.5V5H4c-1.1 0-1.99.9-1.99 2v3.8H3.5c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-1.5c0-1.49 1.21-2.7 2.7-2.7s2.7 1.21 2.7 2.7V22H17c1.1 0 2-.9 2-2v-4h1.5c1.38 0 2.5-1.12 2.5-2.5S21.88 11 20.5 11z"}));function Nt(){return Nt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Nt.apply(this,arguments)}const Pt=e=>React.createElement("svg",Nt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 18 20"},e),React.createElement("path",{fill:"currentColor",d:"M15 15H3V13H15Zm0-4H3V9H15Zm0-4H3V5H15ZM0 20l1.5-1.5L3 20l1.5-1.5L6 20l1.5-1.5L9 20l1.5-1.5L12 20l1.5-1.5L15 20l1.5-1.5L18 20V0L16.5 1.5 15 0 13.5 1.5 12 0 10.5 1.5 9 0 7.5 1.5 6 0 4.5 1.5 3 0 1.5 1.5 0 0Z"}));function Mt(){return Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mt.apply(this,arguments)}const xt=e=>React.createElement("svg",Mt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"currentColor",d:"M3 2.001h2v20H3zM20 6.002h-5v-3c0-.552-.447-1-1-1H7c-.553 0-1 .448-1 1v10c0 .552.447 1 1 1h5l-1.8 2.4c-.227.303-.265.708-.095 1.047.17.339.516.553.894.553h9c.553 0 1-.448 1-1v-10c.001-.552-.446-1-.999-1z"}));function Lt(){return Lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lt.apply(this,arguments)}const jt=e=>React.createElement("svg",Lt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},e),React.createElement("path",{fill:"currentColor",d:"M26 30C26 35.524 30.476 40 36 40C41.524 40 46 35.524 46 30H26Z M12 40C17.524 40 22 35.524 22 30H2C2 35.524 6.476 40 12 40Z M26 16V14H33.312L29.112 28H33.29L36 18.962L38.71 28H42.888L38.688 14H44V10H26V6H22V10H4V14H9.312L5.112 28H9.288L12 18.962L14.712 28H18.888L14.688 14H22V16H26Z"}));function At(){return At=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},At.apply(this,arguments)}const kt=e=>React.createElement("svg",At({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"currentColor",d:"M21.707 20.293L16.314 14.9C17.403 13.504 18 11.799 18 10C18 7.863 17.167 5.854 15.656 4.344C14.146 2.832 12.137 2 10 2C7.863 2 5.854 2.832 4.344 4.344C2.833 5.854 2 7.863 2 10C2 12.137 2.833 14.146 4.344 15.656C5.854 17.168 7.863 18 10 18C11.799 18 13.504 17.404 14.9 16.314L20.293 21.706L21.707 20.293ZM10 16C8.397 16 6.891 15.376 5.758 14.243C4.624 13.11 4 11.603 4 10C4 8.398 4.624 6.891 5.758 5.758C6.891 4.624 8.397 4 10 4C11.603 4 13.109 4.624 14.242 5.758C15.376 6.891 16 8.398 16 10C16 11.603 15.376 13.11 14.242 14.243C13.109 15.376 11.603 16 10 16Z"}));function It(){return It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},It.apply(this,arguments)}const Tt=e=>React.createElement("svg",It({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"currentColor",d:"M13 19h1a1 1 0 0 1 1 1h7v2h-7a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1H2v-2h7a1 1 0 0 1 1-1h1v-2H4a1 1 0 0 1-1-1v-4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1h-7v2M4 3h16a1 1 0 0 1 1 1v4a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1m5 4h1V5H9v2m0 8h1v-2H9v2M5 5v2h2V5H5m0 8v2h2v-2H5z"}));function _t(){return _t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_t.apply(this,arguments)}const Bt=e=>React.createElement("svg",_t({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},e),React.createElement("path",{fill:"currentColor",d:"M12.7609503,7.08043507 C10.1796226,5.54647845 5.92178025,5.40543597 3.45759439,6.15380317 C3.06179846,6.27398591 2.64333918,6.05046133 2.5234242,5.65450895 C2.40350922,5.25826952 2.62670026,4.83983073 3.02268744,4.71945662 C5.85139953,3.86028398 10.5538071,4.02620506 13.52548,5.79134121 C13.8813999,6.00280925 13.9981592,6.46277616 13.7872083,6.81834866 C13.5760661,7.17449528 13.1160095,7.2919031 12.7609503,7.08043507 Z M12.7456938,9.37785148 C12.5639139,9.67256952 12.1782795,9.76502256 11.883727,9.58404861 C9.72377106,8.25738585 6.4301382,7.87299604 3.87475822,8.64810544 C3.54335063,8.74813503 3.19341953,8.56150265 3.09273996,8.2309159 C2.99292418,7.89984962 3.17979084,7.55075308 3.51062257,7.45005215 C6.42975429,6.56484307 10.0587298,6.99354129 12.5395359,8.51700243 C12.8340884,8.69826409 12.9268019,9.08380478 12.7456938,9.37785148 Z M11.7108365,11.5428368 C11.566471,11.780912 11.2582675,11.8554793 11.0223905,11.7103962 C9.13604653,10.5509855 6.76173752,10.28918 3.96555508,10.9314428 C3.69610478,10.9935661 3.42751778,10.823788 3.36603055,10.5528184 C3.30435146,10.2819451 3.47260203,10.0118436 3.74262788,9.95000969 C6.80260111,9.2465882 9.42736749,9.54929481 11.5446963,10.8504123 C11.7807651,10.995399 11.8551061,11.3055334 11.7108365,11.5428368 Z M0,7.99990447 C0,12.4185663 3.58181579,16 8,16 C12.4183753,16 16,12.4185663 16,7.99990447 C16,3.58172026 12.4183753,0 8,0 C3.58181579,0 0,3.58172026 0,7.99990447 Z"}));function Dt(){return Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dt.apply(this,arguments)}const Ut=e=>React.createElement("svg",Dt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"currentColor",d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6c0 1.01-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6c0-1.01.25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4l-4-4v3z"}));function Ft(){return Ft=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ft.apply(this,arguments)}const Ht=e=>React.createElement("svg",Ft({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"currentColor",d:"M21.707 13.293l-11-11C10.519 2.105 10.266 2 10 2H3c-.553 0-1 .447-1 1v7c0 .266.105.519.293.707l11 11c.195.195.451.293.707.293s.512-.098.707-.293l7-7c.391-.391.391-1.023 0-1.414zM7 9c-1.106 0-2-.896-2-2 0-1.106.894-2 2-2 1.104 0 2 .894 2 2 0 1.104-.896 2-2 2z"}));function $t(){return $t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$t.apply(this,arguments)}const zt=e=>React.createElement("svg",$t({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"currentColor",d:"M7 14c-1.66 0-3 1.34-3 3 0 1.31-1.16 2-2 2 .92 1.22 2.49 2 4 2 2.21 0 4-1.79 4-4 0-1.66-1.34-3-3-3zm13.71-9.37l-1.34-1.34c-.39-.39-1.02-.39-1.41 0L9 12.25 11.75 15l8.96-8.96c.39-.39.39-1.02 0-1.41z"}));function Vt(){return Vt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vt.apply(this,arguments)}const qt=e=>React.createElement("svg",Vt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 12"},e),React.createElement("path",{fill:"currentColor",d:"M9.33333 0H3.33333C2.78 0 2.30667 0.333333 2.10667 0.813333L0.0933333 5.51333C0.0333333 5.66667 0 5.82667 0 6V7.33333C0 8.06667 0.6 8.66667 1.33333 8.66667H5.54L4.90667 11.7133L4.88667 11.9267C4.88667 12.2 5 12.4533 5.18 12.6333L5.88667 13.3333L10.28 8.94C10.52 8.7 10.6667 8.36667 10.6667 8V1.33333C10.6667 0.6 10.0667 0 9.33333 0ZM12 0V8H14.6667V0H12Z"}));function Jt(){return Jt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Jt.apply(this,arguments)}const Gt=e=>React.createElement("svg",Jt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 15 14"},e),React.createElement("path",{fill:"currentColor",d:"M0 13.3333H2.66667V5.33333H0V13.3333ZM14.6667 6C14.6667 5.26667 14.0667 4.66667 13.3333 4.66667H9.12667L9.76 1.62L9.78 1.40667C9.78 1.13333 9.66667 0.88 9.48667 0.7L8.78 0L4.39333 4.39333C4.14667 4.63333 4 4.96667 4 5.33333V12C4 12.7333 4.6 13.3333 5.33333 13.3333H11.3333C11.8867 13.3333 12.36 13 12.56 12.52L14.5733 7.82C14.6333 7.66667 14.6667 7.50667 14.6667 7.33333V6Z"}));function Zt(){return Zt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zt.apply(this,arguments)}const Wt=e=>React.createElement("svg",Zt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("path",{fill:"currentColor",d:"M21.94 11.23C21.57 8.76 19.32 7 16.82 7h-2.87c-.52 0-.95.43-.95.95s.43.95.95.95h2.9c1.6 0 3.04 1.14 3.22 2.73.17 1.43-.64 2.69-1.85 3.22l1.4 1.4c1.63-1.02 2.64-2.91 2.32-5.02zM4.12 3.56c-.39-.39-1.02-.39-1.41 0s-.39 1.02 0 1.41l2.4 2.4c-1.94.8-3.27 2.77-3.09 5.04C2.23 15.05 4.59 17 7.23 17h2.82c.52 0 .95-.43.95-.95s-.43-.95-.95-.95H7.16c-1.63 0-3.1-1.19-3.25-2.82-.15-1.72 1.11-3.17 2.75-3.35l2.1 2.1c-.43.09-.76.46-.76.92v.1c0 .52.43.95.95.95h1.78L13 15.27V17h1.73l3.3 3.3c.39.39 1.02.39 1.41 0 .39-.39.39-1.02 0-1.41L4.12 3.56zM16 11.95c0-.52-.43-.95-.95-.95h-.66l1.49 1.49c.07-.13.12-.28.12-.44v-.1z"}));function Kt(){return Kt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kt.apply(this,arguments)}const Yt=e=>React.createElement("svg",Kt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},e),React.createElement("g",{fill:"none",fillRule:"evenodd"},React.createElement("path",{fill:"#f04747",d:"M21.47,3.39,20.14,2.05,2.53,19.66,3.86,21l4.41-4.4,1.3-1.31,1.75-1.74,3.83-3.83Z"})),React.createElement("g",{fill:"none"},React.createElement("polygon",{points:"17 11.14 16.55 11.59 14.14 14 19 14 19 12 17 12 17 11.14",fill:"currentColor"}),React.createElement("polygon",{points:"16.91 3 5 3 5 5 7 5 7 12 5 12 5 14 5.91 14 16.91 3",fill:"currentColor"}),React.createElement("polygon",{points:"12.72 15.42 11 17.14 11 22 13 22 13 15.14 12.72 15.42",fill:"currentColor"})));function Qt(){return Qt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Qt.apply(this,arguments)}const Xt=e=>React.createElement("svg",Qt({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},e),React.createElement("path",{fill:"currentColor",d:"M14.5,5.6c-0.2-0.8,0.5-2,0-2.6C14,2.3,12.6,2.6,12,2.2s-0.8-1.9-1.5-2.1C9.8-0.1,8.8,0.9,8,0.9S6.3-0.2,5.5,0 C4.8,0.3,4.6,1.7,4,2.2S2,2.4,1.5,3c-0.4,0.6,0.2,1.9,0,2.6C1.3,6.3,0,6.9,0,7.6C0,8.4,1.3,9,1.5,9.7c0.2,0.8-0.5,2,0,2.6 C2,12.9,3.4,12.7,4,13.1s0.8,1.9,1.5,2.1c0.7,0.2,1.7-0.8,2.5-0.8s1.7,1,2.5,0.8s0.9-1.6,1.5-2.1s2-0.2,2.5-0.8 c0.4-0.6-0.2-1.9,0-2.6S16,8.4,16,7.6C16,6.9,14.7,6.3,14.5,5.6z M7.4,11.2L4,8.7l1-1.4l2,1.5L10.6,4L12,5L7.4,11.2z"}));function en(){return en=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},en.apply(this,arguments)}const tn=e=>React.createElement("svg",en({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16"},e),React.createElement("path",{fill:"#4F545C",fillRule:"evenodd",clipRule:"evenodd",d:"M16 7.64528C16 8.43528 14.72 9.02528 14.48 9.73528C14.24 10.4453 14.92 11.7353 14.48 12.3253C14.04 12.9153 12.64 12.6753 12.02 13.1253C11.4 13.5753 11.23 14.9653 10.48 15.2153C9.73 15.4653 8.81 14.4153 8.01 14.4153C7.21 14.4153 6.26 15.4153 5.54 15.2153C4.82 15.0153 4.62 13.5753 4 13.1253C3.38 12.6753 2 12.9453 1.54 12.3253C1.08 11.7053 1.77 10.4853 1.54 9.73528C1.31 8.98528 0 8.43528 0 7.64528C0 6.85528 1.28 6.26528 1.52 5.55528C1.76 4.84528 1.08 3.55528 1.52 2.96528C1.96 2.37528 3.37 2.61528 4 2.16528C4.63 1.71528 4.78 0.325284 5.53 0.0452838C6.28 -0.234716 7.2 0.875284 8 0.875284C8.8 0.875284 9.75 -0.124716 10.47 0.0752838C11.19 0.275284 11.38 1.71528 12 2.16528C12.62 2.61528 14 2.34528 14.46 2.96528C14.92 3.58528 14.23 4.80528 14.46 5.55528C14.69 6.30528 16 6.85528 16 7.64528Z"}),React.createElement("path",{fill:"white",d:"M7.4 11.2153L4 8.66529L5 7.30529L7 8.83529L10.64 4.04529L12 5.04529L7.4 11.2153Z"})),nn=["regular","light","duotone","brands"],rn=["far","fal","fad","fab"],an=e=>{if(!e.icon)return null;const t=nn.find((t=>t===e.icon.split(" ")[0].match(/[a-z]+(?!.*-)/)[0])),n=rn[nn.indexOf(t)]??"fas",r=e.icon.replace(`-${t}`,"");return React.createElement("span",{style:e.color?{color:e.color}:null,className:de(n,`fa-${r}`,e.className??"",[e.spin??!1,"fa-spin"]).trim()})};new R("Components",!0);let sn={settings:{TextInput:ye,RadioGroup:function({children:e,note:t,required:n,...r}){const a=ve.get("RadioGroup");return React.createElement(fe,{title:e,note:t,required:n},React.createElement(a,Ce({},r)))},Category:Ee,ColorPickerInput:function(e){const{Constants:{DEFAULT_ROLE_COLOR:t,ROLE_COLORS:n}}=L,{children:r,note:a,required:s,default:o,defaultColors:i=n,value:c,disabled:l,onChange:d}=e;return delete e.children,React.createElement(fe,{title:r,required:s,note:a},React.createElement(xe,{colors:i,defaultColor:"number"==typeof o?o:t,onChange:d,disabled:l,value:c}))},SliderInput:Ae,FormItem:fe,SelectInput:function(e){const{SelectInput:t}=L,{children:n,note:r,required:a}=e;return delete e.children,React.createElement(fe,{title:n,note:r,required:a,noteHasMargin:!0},React.createElement(t,we({},e,{required:a})))},Checkbox:function({children:e,note:t,required:n,...r}){const a=ve.get("Checkbox");return React.createElement(fe,{title:e,note:t,required:n},React.createElement(a,ke({},r)))},TextAreaInput:Re},Icon:Oe,AsyncComponent:Z,modal:Te,Icons:a,ColorPicker:Le,Divider:me};x.then((async()=>{for(const e in re){const t=re[e];let n="function"==typeof t.filter?E.findModule(t.filter):"string"==typeof t.filter?E.findByDisplayName(t.filter):Array.isArray(t.filter)?E.findByProps(...t.filter):void 0;if(t.updater){const e=n;n=ce(n,void 0,void 0,t.valueProps),Object.assign(n,e)}let r={};if(Array.isArray(t.prop)?Object.assign(r,Object.fromEntries(t.prop.map((e=>[e,n[e]])))):"string"==typeof t.prop&&(r=n[t.prop]),Array.isArray(t.rename))for(const{from:e,to:a}of t.rename)r[a]=n[e];Array.isArray(t.rename)||t.prop||(r=n);const a=t.settings?sn.settings:sn;Object.assign(a,{[e]:r})}}));const on=sn,cn={messages:["sendMessage","editMessage","deleteMessage"],typing:["startTyping"],http:["getAPIBaseURL","get","put","post"],constants:["Endpoints","AuditLogActionTypes","AutoCompleteResultTypes","BITRATE_DEFAULT"],channels:["getChannelId","getLastSelectedChannelId","getVoiceChannelId"],spotify:["play","pause","fetchIsSpotifyProtocolRegistered"],spotifySocket:["getActiveSocketAndDevice","getPlayerState","hasConnectedAccount"],React:["createRef","createElement","Component","PureComponent"],ReactDOM:["render","createPortal"],contextMenu:["openContextMenu","closeContextMenu"],modal:["push","update","pop","popWithKey"],Flux:["Store","connectStores"],FluxDispatcher:["_currentDispatchActionType","_processingWaitQueue"],Router:["BrowserRouter","Router"],hljs:["initHighlighting","highlight"],i18n:["Messages","getLanguages",e=>e.Messages.CLOSE]};function ln(e,t=!0,n=!1){if(Array.isArray(e)){const t=e;e=e=>e&&t.every((t=>"function"==typeof t?t(e):t in e))}return"function"!=typeof e?t?Promise.resolve(null):null:t?new Promise((async t=>{for(let r=0;r<(n?666:21);r++){const n=E.findModule(e,{cache:!0,all:!1});if(n)return t(n);await ae(100)}})):E.findModule(e,{cache:!0,all:!1})}const dn={getModule:ln,getAllModules:function(e){if(Array.isArray(e)){const t=e;e=e=>e&&t.every((t=>t in e))}return E.findModules(e)},getModuleByDisplayName:function(e,t,n){return ln((t=>t.displayName?.toLowerCase()===e.toLowerCase()),t,n)}},un=dn,pn={inject:function(e,t,n,r,a=!1){if(!t)throw new Error(`Failed to patch ${e}; module is invalid.`);a?O.before(e,t,n,((e,t)=>Reflect.apply(r,e,[t]))):O.after(e,t,n,((e,t,n)=>Reflect.apply(r,e,[t,n])))},uninject:function(e){return O.unpatchAll(e)},isInjected:function(e){return O.getPatchesByCaller(e).length>0}};function hn(){return hn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},hn.apply(this,arguments)}const mn=new Map;function fn({name:e,...t}){const n=mn.get(e)??(mn.set(e,E.findByDisplayName(e)),mn.get(e))??(()=>null);return React.createElement(n,hn({},t))}function gn(){return gn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gn.apply(this,arguments)}const yn=K(x.then((()=>{const{Markdown:e,Flex:t,Forms:{FormTitle:n},ModalComponents:{ModalRoot:r,ModalHeader:a,ModalContent:s,ModalCloseButton:o}}=L,[i,c]=E.bulk(C.byProps("progress","improved","container"),(e=>e.content&&e.modal&&2===Object.keys(e).length)),l={IMPROVED:i.improved,ADDED:i.added,FIXED:i.fixed,PROGRESS:i.progress},d=function(t,n){return React.createElement(React.Fragment,{key:t.title},React.createElement("h1",{className:de(i.title,l[t.type]??l.ADDED,[0===n,"pc-margin-top-0"])},t.title),React.createElement("ul",null,t.items.map((t=>React.createElement("li",{key:t},React.createElement(e,null,t))))))};return function({items:e,title:l,...u}){return React.createElement(r,gn({},u,{className:de(i.container,c.content)}),React.createElement(a,{separator:!1},React.createElement(t.Child,{basis:"auto",grow:1,shrink:1,wrap:!1},React.createElement(n,{tag:n.Tags.H2},l)),React.createElement(t.Child,{basis:"auto",rgrow:0,shrink:1,wrap:!1},React.createElement(o,{onClick:u.onClose}))),React.createElement(s,null,e.map(d)))}})));class vn{static get TextInput(){return ee(this,"TextInput",ce(ye))}static showConfirmationModal(e,t,n={}){const{confirmText:r="Okay",cancelText:a="Cancel",onConfirm:s=(()=>{}),onCancel:o=(()=>{}),danger:i=!1}=n,{ModalsApi:c,ConfirmationModal:l,React:d,Markdown:u,Button:p}=L;return c.openModal((n=>d.createElement(l,Object.assign({header:e,confirmText:r,cancelText:a,onConfirm:s,onCancel:o,confirmButtonColor:i?p.Colors.RED:p.Colors.BRAND},n),"string"==typeof t?d.createElement(u,null,t):t)))}static prompt(e,t,n={}){const{placeholder:r="",onInput:a=(()=>{})}=n;let s="";return this.showConfirmationModal(e,React.createElement(this.TextInput,{note:t,value:s,placeholder:r,onChange:e=>{s=e}}),{onConfirm:()=>{a(s)}})}static alert(e,t){return this.showConfirmationModal(e,t,{cancelText:null})}static showChangeLog(e,t){const{ModalsApi:n}=L;return n.openModal((n=>React.createElement(yn,Object.assign({title:e,items:t},n))))}}let Cn,wn=null;function En({store:e,name:t,children:n,header:r=null}){const{Caret:a}=L,[,s]=L.React.useReducer((e=>e+1),0),[o,i]=L.React.useState({label:"",render:null}),c=L.React.useMemo((()=>"function"==typeof o.render&&o.label),[o]);L.React.useEffect((()=>(e.addChangeListener(s),()=>{e.removeChangeListener(s)})),[e]);const l={setPage(e){i(e)},reset(){i({render:null,label:""})}};return React.createElement(Pe,null,React.createElement(wn.Provider,{value:l},React.createElement("div",{className:"pc-settings-panel"},React.createElement("div",{className:"pc-settings-title"},c?React.createElement("div",{className:"pc-settings-title-name",onClick:()=>l.reset()},t):t,c?React.createElement(React.Fragment,null,React.createElement(a,{direction:a.Directions.RIGHT,className:"pc-settings-title-caret"}),React.createElement("div",{className:"pc-settings-title-sub"},o.label)):null,r),c?o.render():n())))}x.then((()=>{wn=L.React.createContext()})),x.then((()=>{Cn=class extends L.Flux.Store{constructor(e){super(L.Dispatcher,{}),this.settings=Xa.tryLoadData(e),this.id=e,Object.assign(this,this.makeProps())}getKeys=()=>Reflect.ownKeys(this.settings);get=(e,t)=>this.settings[e]??t;toggle=e=>{this.set(e,!this.get(e))};set=(e,t)=>{void 0===t?this.toggle(e):this.settings[e]=t,this.save()};save=()=>{Xa.trySaveData(this.id,this.settings),this.emitChange()};connectStore(){return L.Flux.connectStores([this],(()=>this.makeProps()))}makeProps(){return{settings:this.settings,getSetting:this.get.bind(this),getSettings:()=>this.settings,updateSetting:this.set.bind(this),toggleSetting:this.toggle.bind(this)}}}}));const bn=new Map;function Rn(e){if(!bn.has(e)){const t=new Cn(e);return bn.set(e,t),t.save(),t}return bn.get(e)}let Sn=null,On=new Map;const Nn=new Proxy(On,{has:(e,t)=>On.has(t)||null!=e[t],set:(e,t,n)=>(e[t]=n,!0),get:(e,t)=>"hasOwnProperty"===t?e=>On.has(e)||e in On:On.get(t)??e[t]});function Pn(e,t){e=powercord.pluginManager.resolve(e)?.entityID||powercord.pluginManager.resolve(t.category)?.entityID||e||t.category,t.render=Ln(e)(t.render),On.set(e,t)}function Mn(e){On.delete(e)}function xn(e){return Rn(e)?.makeProps()}function Ln(e){return Rn(e)?.connectStore()}function jn(){return jn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jn.apply(this,arguments)}function An({label:e,icon:t,onClick:n,danger:r=!1,disabled:a=!1}){const{Button:s,Tooltips:{Tooltip:o}}=L;return React.createElement(o,{text:e,position:"top"},(e=>React.createElement(s,jn({},e,{className:"pc-settings-toolbutton",look:s.Looks.BLANK,size:s.Sizes.NONE,onClick:n,disabled:a}),React.createElement(fn,{name:t,color:r?"#ed4245":void 0,width:"20",height:"20"}))))}function kn({value:e,onChange:t,disabled:n=!1}){const{Switch:r}=L,[a,s]=React.useState(e);return React.createElement(r,{className:"pc-settings-addons-switch",checked:a,disabled:n,onChange:()=>{t(!a),s(!a)}})}function In(e){const t=On.get(e);if(t)return t;for(const[t,n]of On.entries())if(n.category==e)return On.get(t);return null}function Tn({addon:e,manager:t,openSettings:n,hasSettings:r,type:a}){const{Markdown:s}=L,[,o]=React.useReducer((e=>e+1),0),i=React.useContext(wn);return React.useEffect((()=>{t.on("toggle",(t=>{t===e.entityID&&o()}))}),[e,t]),React.createElement("div",{style:{"--plugin-color":e.color},className:"pc-settings-addon-card "+e.manifest.name?.replace(/ /g,"-")},React.createElement("div",{className:"pc-settings-card-header"},React.createElement("div",{className:"pc-settings-card-field pc-settings-card-name"},e.manifest.name),"version"in e.manifest&&React.createElement("div",{className:"pc-settings-card-field"},"v",e.manifest.version),"author"in e.manifest&&React.createElement("div",{className:"pc-settings-card-field"}," by ",e.manifest.author),React.createElement("div",{className:"pc-settings-card-controls"},In(e.entityID)&&React.createElement(An,{label:"Settings",icon:"Gear",onClick:()=>{const t=In(e.entityID);i.setPage({label:e.manifest.name,render:"function"==typeof t.render?()=>L.React.createElement(t.render,bn.get(e.entityID).makeProps()):t.render})}}),React.createElement(An,{label:"Reload",icon:"Replay",disabled:!t.isEnabled?.(e)??!0,onClick:()=>t.reload(e)}),React.createElement(An,{label:"Open Path",icon:"Folder",onClick:()=>{PCCompatNative.executeJS(`require("electron").shell.showItemInFolder(${JSON.stringify(e.path)})`)}}),React.createElement(An,{label:"Delete",icon:"Trash",onClick:()=>{vn.showConfirmationModal("Are you sure?",`Are you sure that you want to delete the ${a} "${e.manifest.name}"?`,{danger:!0,onConfirm:()=>{t.delete(e.entityID)}})}}),React.createElement(kn,{value:t.isEnabled?.(e)??!1,onChange:()=>{t.toggle(e)}}))),e.manifest.description&&React.createElement("div",{className:"pc-settings-card-desc"},React.createElement(s,null,e.manifest.description)))}function _n(){return _n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_n.apply(this,arguments)}x.then((()=>{Sn=Object.assign(Rn("powercord"),{_fluxProps:e=>Rn(e).makeProps()})}));const Bn=["name","author","version","description","added"],Dn=["name","author","description"],Un=["ascending","descending"];function Fn({type:e}){const{ContextMenu:t}=L,[n,r,a]=Xa.useEvent("misc",(()=>[Xa.getMisc(`${e}.sortBy`,"name"),Xa.getMisc(`${e}.searchOption`,{author:!0,name:!0,description:!0}),Xa.getMisc(`${e}.order`,"descending")]));return React.createElement(t.Menu,{navId:"OverflowContextMenu"},React.createElement(t.ControlItem,{id:"order-header",control:()=>React.createElement("h5",{className:"pc-settings-overflow-header"},"Order")}),React.createElement(t.Separator,{key:"separator"}),React.createElement(t.Group,null,Un.map((n=>React.createElement(t.RadioItem,{key:"order-"+n,label:n[0].toUpperCase()+n.slice(1),checked:a===n,id:"sortBy-"+n,action:()=>{Xa.setMisc(void 0,`${e}.order`,n)}})))),React.createElement(t.Separator,{key:"separator"}),React.createElement(t.ControlItem,{id:"sort-header",control:()=>React.createElement("h5",{className:"pc-settings-overflow-header"},"Sort Options")}),React.createElement(t.Separator,{key:"separator"}),React.createElement(t.Group,null,Bn.map((r=>React.createElement(t.RadioItem,{key:"sortBy-"+r,label:r[0].toUpperCase()+r.slice(1),checked:n===r,id:"sortBy-"+r,action:()=>{Xa.setMisc(void 0,`${e}.sortBy`,r)}})))),React.createElement(t.Separator,{key:"separator"}),React.createElement(t.ControlItem,{id:"search-header",control:()=>React.createElement("h5",{className:"pc-settings-overflow-header"},"Search Options")}),React.createElement(t.Separator,{key:"separator"}),React.createElement(t.Group,null,Dn.map((n=>React.createElement(t.CheckboxItem,{key:"search-"+n,id:"search-"+n,label:n[0].toUpperCase()+n.slice(1),checked:r[n],action:()=>{Xa.setMisc(void 0,`${e}.searchOption.${n}`,!r[n])}})))))}function Hn({manager:e,type:t}){const{React:n,Button:r,Tooltips:a,SearchBar:s,PlaceholderClasses:o,Popout:i,LocaleManager:{Messages:c}}=L,[l,d]=n.useState(""),[u,p]=n.useState(null),[h,m,f]=Xa.useEvent("misc",(()=>[Xa.getMisc(`${t}.sortBy`,"name"),Xa.getMisc(`${t}.searchOption`,{author:!0,name:!0,description:!0}),Xa.getMisc(`${t}.order`,"descending")]));return n.useEffect((()=>{e.on("delete",(()=>{p(e.addons)})),e.on("updated",(()=>{p(e.addons)}))}),[e]),n.useEffect((()=>{(async function(e,t,n,r,a){return e.filter((e=>{if(!n)return!0;const{manifest:t}=e;return["name","author","description"].some((e=>r[e]&&String(t[e]??"").toLowerCase().includes(n.toLowerCase())))})).sort(((e,t)=>{const n=e.manifest[a]??"",r=t.manifest[a]??"";return"string"==typeof n?String(n).toLowerCase().localeCompare(String(r).toLowerCase()):n>r?1:r>n?-1:0}))["ascending"===t?"reverse":"slice"](0)})(Array.from(e.addons),f,l,m,h).then((e=>p(e)))}),[l,e,t,f,m,h]),React.createElement("div",{className:"pc-settings-addons"},React.createElement("div",{className:"pc-settings-addons-controls"},React.createElement(s,{onQueryChange:e=>d(e),onClear:()=>d(""),placeholder:`Search ${t}s...`,size:s.Sizes.SMALL,query:l,className:"pc-settings-addons-search"}),React.createElement(a.Tooltip,{text:"Load missing",position:"bottom"},(t=>React.createElement(r,_n({},t,{size:r.Sizes.NONE,look:r.Looks.BLANK,className:"pc-settings-load-missing",onClick:()=>e.loadAll(!0)}),React.createElement(fn,{name:"Replay",width:20,height:20})))),React.createElement(a.Tooltip,{text:"Open folder",position:"bottom"},(t=>React.createElement(r,_n({},t,{size:r.Sizes.NONE,look:r.Looks.BLANK,className:"pc-settings-open-folder",onClick:()=>PCCompatNative.executeJS(`require("electron").shell.openPath('${JSON.stringify(e.folder)}')`)}),React.createElement(fn,{name:"Folder",width:20,height:20})))),React.createElement(a.Tooltip,{text:"Options",position:"bottom"},(e=>React.createElement(i,{position:i.Positions.TOP,animation:i.Animation.SCALE,align:i.Align.RIGHT,spacing:12,renderPopout:()=>React.createElement(Fn,{type:t})},(t=>React.createElement(r,_n({},e,t,{size:r.Sizes.NONE,look:r.Looks.BLANK,className:"pc-settings-overflow-menu"}),React.createElement(fn,{name:"OverflowMenu",width:"20",height:"20"}))))))),React.createElement("div",{className:"pc-settings-card-scroller"},u?.length?u.map((n=>React.createElement(Tn,{addon:n,hasSettings:!1,manager:e,type:t,key:n.manifest.name,openSettings:()=>{}}))):React.createElement("div",{className:"pc-settings-empty"},React.createElement("div",{className:o?.emptyStateImage}),React.createElement("p",null,c.GIFT_CONFIRMATION_HEADER_FAIL),React.createElement("p",null,c.SEARCH_NO_RESULTS))))}const $n=new class{get sidebarClass(){return ee(this,"sidebarClass",E.findByProps("standardSidebarView"))}panels=[];promises={cancelled:!1,cancel(){this.cancelled=!0}};defaultPanels=[{section:"DIVIDER"},{section:"HEADER",label:"Powercord"}];registerPanel(e,t){const{label:n,render:r,order:a,...s}=t;if(this.panels.find((t=>t.id===e)))throw new Error(`Settings tab ${e} is already registered!`);const o={...s,section:e,label:n,order:a,className:`pccompat-settings-${e}-item`,predicate:t.predicate??(()=>!0),element:()=>L.React.createElement(En,{name:n,store:Rn(e),children:r,header:t.header??null})};return this.panels=this.panels.concat(o).sort(this.sortPanels),()=>{const e=this.panels.indexOf(o);return!(e<0||(this.panels.splice(e,1),0))}}unregisterPanel(e){const t=this.panels.findIndex((t=>t.id===e));t<0||(this.panels.splice(t,1),this.forceUpdate())}sortPanels(e,t){return e.order-t.order}async patchSettingsView(){const e=await E.findLazy(E.Filters.byDisplayName("SettingsView"));this.promises.cancelled||(O.after("PCSettings",e.prototype,"getPredicateSections",((e,t,n)=>{if(!Array.isArray(n)||!n.some((e=>"changelog"===e?.section?.toLowerCase()))||n.some((e=>"pc-settings"===e?.id)))return;const r=n.findIndex((e=>"changelog"===e?.section?.toLowerCase()))-1;if(r<0)return;const a=[...this.defaultPanels];for(let e=0;e<this.panels.length;e++)this.panels[e].predicate&&!this.panels[e].predicate()||a.push(this.panels[e]);n.splice(r,0,...a)})),j.addEventListener("reload-core",(()=>{O.unpatchAll("PCSettings"),this.promises.cancel()})))}forceUpdate(){const[e]=document.getElementsByName(this.sidebarClass.standardSidebarView);if(!e)return;const t=U(e,(e=>"SettingsView"===e?.constructor?.displayName));t&&t.forceUpdate()}},zn=window.process?.contextIsolated??1?{ipcRenderer:PCCompatNative.executeJS('PCCompatNative.cloneObject(require("electron").ipcRenderer)'),shell:PCCompatNative.executeJS('require("electron").shell'),clipboard:PCCompatNative.executeJS('require("electron").clipboard'),contextBridge:{exposeInMainWorld(e,t){window[e]=t}}}:window.require("electron"),Vn=R.create("EventEmitter");class qn{static events={};static has(e){return e in this.events}static on(e,t){return this.has(e)||(this.events[e]=new Set),this.events[e].add(t),this.off.bind(this,e,t)}static off(e,t){if(this.has(e))return this.events[e].delete(t)}static emit(e,...t){if(this.has(e))for(const n of this.events[e])try{n(...t)}catch(e){Vn.error(`Store:${this.constructor.name}`,"Could not fire callback:",e)}}}const Jn=R.create("PluginManager");class Gn extends qn{static get folder(){return ne.resolve(Xa.baseDir,"powercord","plugins")}static mainFiles=["index.js","index.jsx"];static plugins=new Map(window.__PC_PLUGINS__??[]);static get addons(){return Array.from(this.plugins,(e=>e[1]))}static initialize(){const e=PCCompatNative.getBasePath(),t=ne.join(e,"plugins");if(!te.existsSync(this.folder))try{te.mkdirSync(this.folder,{recursive:!0})}catch(e){return void Jn.error("PluginsManager","Failed to create plugins folder:",e)}if(te.existsSync(t)&&!Xa.getMisc("migratedPlugins",!1)){Jn.log(`Old addon folder detected, migrating ${ne.basename(t)}.`);const n=te.readdirSync(t);for(const r of n){const n=ne.join(t,r),a=ne.join(this.folder,r);if(te.existsSync(a))try{te.unlinkSync(n)}catch{}else Jn.log(`Migrating ${ne.basename(e)}/${ne.basename(t)}/${r}`),te.renameSync(n,a)}Xa.setMisc(void 0,"migratedPlugins",!0),Jn.log("Migration completed.")}$n.registerPanel("pc-moduleManager-plugins",{label:"Plugins",order:1,render:()=>L.React.createElement(Hn,{type:"plugin",manager:this})}),this.states=Xa.tryLoadData("plugins"),window.__PC_PLUGINS__||this.loadAll(),j.addEventListener("reload-core",(()=>{window.__PC_PLUGINS__=Array.from(this.plugins)}))}static loadAll(e=!1){if(!te.statSync(this.folder).isDirectory())return void Jn.error("PluginsManager","Plugins dir isn't a folder.");e||Jn.log("PluginsManager","Loading plugins...");const t=[];for(const n of te.readdirSync(this.folder,"utf8")){const r=ne.resolve(this.folder,n);if(te.statSync(r).isDirectory()&&te.existsSync(ne.join(r,"manifest.json"))&&te.statSync(ne.join(r,"manifest.json")).isFile()){te.existsSync(ne.join(r,"node_modules"))&&Ta.push(ne.join(r,"node_modules"));try{if(e){if(this.resolve(n,!0))continue;this.loadPlugin(r),t.push(this.resolve(n).displayName)}else this.loadPlugin(r)}catch(e){Jn.error(`Failed to load ${n}:`,e)}}}e&&t.length?(powercord.api.notices.sendToast(null,{content:`The following plugins were loaded: ${t.join(", ")}`,header:"Missing plugins found",type:"success"}),this.emit("updated")):e&&!t.length&&powercord.api.notices.sendToast(null,{content:"Couldn't find any plugins that aren't already loaded.",header:"Missing plugins not found",type:"danger"})}static clearCache(e){ne.isAbsolute(e)||(e=ne.resolve(this.folder,e));const t=!window.process||process.contextIsolated?Ja:window.require,n=Object.keys(t.cache).filter((t=>~t.indexOf(e)));for(const e of n)delete t.cache[e]}static resolve(e,t=!1){return this.plugins.has(e)?this.plugins.get(e):this.getByDisplayName(e)?this.getByDisplayName(e):t?null:e}static saveData(){Xa.trySaveData("plugins",this.states)}static isEnabled(e){const t=this.resolve(e);if(t)return Boolean(this.states[t.entityID])}static loadPlugin(e,t=!0){const n=Object.freeze(Wa(ne.resolve(e,"manifest.json")));if(this.plugins.get(n.name))throw new Error(`Plugin with name ${n.name} already exists!`);let r={};try{this.clearCache(e);const t=Wa(e);Object.defineProperties(t.prototype,{entityID:{value:ne.basename(e),configurable:!1,writable:!1},manifest:{value:n,configurable:!1,writable:!1},settings:{value:Rn(ne.basename(e)),configurable:!0,writable:!0},path:{value:e,configurable:!1,writable:!1}}),r=new t(ne.basename(e),e)}catch(t){return void Jn.error(`Failed to compile ${n.name||ne.basename(e)}:`,t)}t&&Jn.log(`${n.name} was loaded!`),this.plugins.set(ne.basename(e),r),this.isEnabled(ne.basename(e))&&this.startPlugin(r),this.emit("updated",r)}static unloadAddon(e,t=!0){const n=this.resolve(e);if(!e)return;const r=this.stopPlugin(n);return this.plugins.delete(n.entityID),this.clearCache(n.path),t&&Jn.log(`${n.displayName} was unloaded!`),this.emit("updated",n),r}static reloadPlugin(e){const t=this.resolve(e);if(e)return this.unloadAddon(t,!1)?(this.loadPlugin(t.path,!1),void Jn.log(`Finished reloading ${t.displayName}.`)):Jn.error(`Something went wrong while trying to unload ${t.displayName}:`)}static startPlugin(e,t=!0){const n=this.resolve(e);if(n){try{"function"==typeof n.startPlugin&&n.startPlugin(),t&&Jn.log(`${n.displayName} has been started!`)}catch(e){Jn.error(`Could not start ${n.displayName}:`,e)}return!0}}static stopPlugin(e,t=!0){const n=this.resolve(e);if(n){try{n._unload(),t&&Jn.log(`${n.displayName} has been stopped!`)}catch(e){return Jn.error(`Could not stop ${n.displayName}:`,e),!1}return!0}}static enablePlugin(e,t=!0){const n=this.resolve(e);n&&(this.states[n.entityID]=!0,Xa.trySaveData("plugins",this.states),this.startPlugin(n,!1),t&&(Jn.log(`${n.displayName} has been enabled!`),this.emit("toggle",n.entityID,!0)))}static disablePlugin(e,t=!0){const n=this.resolve(e);n&&(this.states[n.entityID]=!1,Xa.trySaveData("plugins",this.states),this.stopPlugin(n,!1),t&&(Jn.log(`${n.displayName} has been disabled!`),this.emit("toggle",n.entityID,!1)))}static delete(e){const t=this.resolve(e);t&&(this.unloadAddon(t),PCCompatNative.executeJS(`require("electron").shell.trashItem(${JSON.stringify(t.path)})`),this.emit("updated",t))}static toggle(e){const t=this.resolve(e);t&&(this.isEnabled(t.entityID)?this.disable(t):this.enable(t))}static get(e){return this.plugins.get(e)}static getPlugins(){return[...this.plugins.keys()]}static getByDisplayName(e){return this.addons.find((t=>t?.constructor?.name===e))}static get enable(){return this.enablePlugin}static get disable(){return this.disablePlugin}static get reload(){return this.reloadPlugin}static get remount(){return this.reloadPlugin}static get loadAllPlugins(){return this.loadAll}}class Zn{stylesheets={};get color(){return"#7289da"}_loadStylesheet(e){const t=ne.isAbsolute(e)?e:ne.resolve(this.path,e);try{if(!te.existsSync(t))throw new Error(`Stylesheet not found at ${t}`);const e=Wa(t),n=`${this.entityID}-${se()}`;this.stylesheets[n]=mr.injectCSS(n,e)}catch(e){console.error("Could not load stylesheet:",e)}}_load(){this._loadStylesheet(ne.resolve(this.path,this.manifest.theme))}_unload(){const e=Object.keys(this.stylesheets);for(let t=0;t<e.length;t++)this.stylesheets[e[t]].remove(),delete this.stylesheets[e[t]]}get displayName(){return this.manifest.name}}const Wn=R.create("StyleManager");class Kn extends qn{static get folder(){return ne.resolve(Xa.baseDir,"powercord","themes")}static mainFiles=["powercord_manifest.json","manifest.json"];static themes=new Map(window.__PC_THEMES__??[]);static get addons(){return Array.from(this.themes,(e=>e[1]))}static initialize(){const e=PCCompatNative.getBasePath(),t=ne.join(e,"themes");if(!te.existsSync(this.folder))try{te.mkdirSync(this.folder,{recursive:!0})}catch(e){return void Wn.error("StyleManager","Failed to create themes folder:",e)}if(te.existsSync(t)&&!Xa.getMisc("migratedThemes",!1)){Wn.log(`Old addon folder detected, migrating ${ne.basename(t)}.`);const n=te.readdirSync(t);for(const r of n){const n=ne.join(t,r),a=ne.join(this.folder,r);te.existsSync(a)||(Wn.log(`Migrating ${ne.basename(e)}/${ne.basename(t)}/${r}`),te.renameSync(n,a))}Xa.setMisc(void 0,"migratedThemes",!0),Wn.log("Migration completed.")}$n.registerPanel("pc-moduleManager-themes",{label:"Themes",order:2,render:()=>L.React.createElement(Hn,{type:"theme",manager:this})}),this.states=Xa.tryLoadData("themes"),window.__PC_THEMES__||this.loadAll(),j.addEventListener("reload-core",(()=>{window.__PC_PLUGINS__=Array.from(this.themes)}))}static loadAll(e=!1){if(!te.statSync(this.folder).isDirectory())return void Wn.error("StyleManager","Plugins dir isn't a folder.");e||Wn.log("StyleManager","Loading themes...");const t=[];for(const n of te.readdirSync(this.folder,"utf8")){const r=ne.resolve(this.folder,n);if(te.statSync(r).isDirectory()&&this.mainFiles.some((e=>te.existsSync(ne.join(r,e)))))try{if(e){if(this.resolve(n))continue;this.loadTheme(r),t.push(this.resolve(n).displayName)}else this.loadTheme(r)}catch(e){Wn.error(`Failed to load theme ${n}:`,e)}}e&&t.length?(powercord.api.notices.sendToast(null,{content:`The following themes were loaded: ${t.join(", ")}`,header:"Missing themes found",type:"success"}),this.emit("updated")):e&&!t.length&&powercord.api.notices.sendToast(null,{content:"Couldn't find any themes that aren't already loaded.",header:"Missing themes not found",type:"danger"})}static clearCache(e){ne.isAbsolute(e)||(e=ne.resolve(this.folder,e));const t=!window.process||process.contextIsolated?Ja:window.require,n=Object.keys(t.cache).filter((t=>~t.indexOf(e)));for(const e of n)delete t.cache[e]}static resolve(e){return"string"==typeof e?this.themes.get(e):e}static saveData(){Xa.trySaveData("themes",this.states)}static isEnabled(e){const t=this.resolve(e);if(t)return Boolean(this.states[t.entityID])}static loadTheme(e,t=!0){const n=ne.resolve(e,this.mainFiles.find((t=>te.existsSync(ne.resolve(e,t))))),r=Object.freeze(Wa(n)),a=ne.basename(e);if(this.themes.get(a))throw new Error(`Theme with ID ${a} already exists!`);let s=new Zn;try{this.clearCache(e),Object.defineProperties(s,{entityID:{value:a,configurable:!1,writable:!1},manifest:{value:r,configurable:!1,writable:!1},settings:{value:null,configurable:!1,writable:!1},path:{value:e,configurable:!1,writable:!1}})}catch(t){return void Wn.error(`Failed to compile ${r.name||ne.basename(e)}:`,t)}t&&Wn.log(`${r.name} was loaded!`),this.themes.set(ne.basename(e),s),this.isEnabled(ne.basename(e))&&this.startTheme(s),this.emit("updated",s)}static unloadAddon(e,t=!0){const n=this.resolve(e);if(!e)return;const r=this.stopTheme(n);return this.clearCache(n.path),t&&Wn.log(`${n.displayName} was unloaded!`),this.emit("updated",n),r}static reloadTheme(e){const t=this.resolve(e);if(e)return this.unloadAddon(t,!1)?(this.startTheme(t,!1),void Wn.log(`Finished reloading ${t.displayName}.`)):Wn.error(`Something went wrong while trying to unload ${t.displayName}:`)}static startTheme(e,t=!0){const n=this.resolve(e);if(n){try{n._load(),t&&Wn.log(`${n.displayName} has been loaded!`)}catch(e){Wn.error(`Could not load ${n.displayName}:`,e)}return!0}}static stopTheme(e,t=!0){const n=this.resolve(e);if(n){try{n._unload(),t&&Wn.log(`${n.displayName} has been stopped!`)}catch(e){return Wn.error(`Could not stop ${n.displayName}:`,e),!1}return!0}}static enableTheme(e,t=!0){const n=this.resolve(e);n&&(this.states[n.entityID]=!0,Xa.trySaveData("themes",this.states),this.startTheme(n,!1),t&&(Wn.log(`${n.displayName} has been enabled!`),this.emit("toggle",n.entityID,!0)))}static disableTheme(e,t=!0){const n=this.resolve(e);n&&(this.states[n.entityID]=!1,Xa.trySaveData("themes",this.states),this.stopTheme(n,!1),t&&(Wn.log(`${n.displayName} has been disabled!`),this.emit("toggle",n.entityID,!1)))}static delete(e){const t=this.resolve(e);t&&(this.unloadAddon(t),this.themes.delete(t.entityID),PCCompatNative.executeJS(`require("electron").shell.trashItem(${JSON.stringify(t.path)})`),this.emit("updated",t))}static toggle(e){const t=this.resolve(e);t&&(this.isEnabled(t.entityID)?this.disable(t):this.enable(t))}static get(e){return this.themes.get(e)}static get enable(){return this.enableTheme}static get disable(){return this.disableTheme}static get reload(){return this.reloadTheme}static get remount(){return this.reloadTheme}static get getThemes(){return[...this.themes.keys()]}static get loadAllThemes(){return this.loadAll}}class Yn{stylesheets={};get color(){return"#7289da"}loadStylesheet(e){const t=ne.isAbsolute(e)?e:ne.resolve(this.path,e);try{if(!te.existsSync(t))throw new Error(`Stylesheet not found at ${t}`);const e=Wa(t),n=`${this.entityID}-${se()}`;this.stylesheets[n]=mr.injectCSS(n,e)}catch(e){console.error("Could not load stylesheet:",e)}}log(...e){console.log(`%c[Powercord:Plugin:${this.constructor.name}]`,`color: ${this.color};`,...e)}debug(...e){console.debug(`%c[Powercord:Plugin:${this.constructor.name}]`,`color: ${this.color};`,...e)}warn(...e){console.warn(`%c[Powercord:Plugin:${this.constructor.name}]`,`color: ${this.color};`,...e)}error(...e){console.error(`%c[Powercord:Plugin:${this.constructor.name}]`,`color: ${this.color};`,...e)}_load(){Gn.startPlugin(this)}_unload(){this.pluginWillUnload?.();for(const e in this.stylesheets)mr.clearCSS(e)}get displayName(){return this.manifest.name}}const Qn={state:"SENT",author:{avatar:"__POWERCORD__",id:"94762492923748352",bot:!0,discriminator:"#0001",username:"powerCord"},content:"Message."};x.then((()=>{const{AvatarDefaults:e}=L;e&&(e.BOT_AVATARS.__POWERCORD__="https://cdn.discordapp.com/avatars/518171798513254407/665fe74ee3fbf58b9d5949d7e15dbafa.webp")}));class Xn{static sendMessage(e=L.SelectedChannelStore.getChannelId(),t){const{MessageActions:n,MessageCreators:r,Lodash:a}=L;n.receiveMessage(e,a.merge({},r.createBotMessage(e,t?.content),Qn,t))}}function er(){return er=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},er.apply(this,arguments)}const tr=e=>React.createElement("svg",er({},e,{fill:"currentColor",viewBox:"0 0 447 447",version:"1.1",xmlns:"http://www.w3.org/2000/svg"}),React.createElement("g",{"clip-path":"url(#a)"},React.createElement("path",{d:"m221 117.1-33.8-33.8 70-70c9.3-9.3 24.5-9.3 33.8 0 9.3 9.3 9.3 24.5 0 33.8l-70 70Zm91.7 91.7L278.9 175l70-70c9.3-9.3 24.5-9.3 33.8 0 9.3 9.3 9.3 24.5 0 33.8l-70 70Z"}),React.createElement("path",{d:"M303 257 138.9 92.9c-2.7-2.7-2.7-7 0-9.7L163 59.1c2.7-2.7 7-2.7 9.7 0l164.1 164.1c2.7 2.7 2.7 7 0 9.7L312.7 257c-2.7 2.7-7 2.7-9.7 0ZM153.4 88.1l154.5 154.5 14.5-14.5L167.9 73.6l-14.5 14.5Z"}),React.createElement("path",{d:"m161.2 327.6-92.9-92.9c-14.3-14.3-14.3-37.6 0-51.9l85.1-85.1 144.8 144.8-85.1 85.1c-14.3 14.4-37.6 14.4-51.9 0Z"}),React.createElement("path",{d:"m95.4 329.5-29-29c-2.7-2.7-2.7-7 0-9.7l29-29c2.7-2.7 7-2.7 9.7 0l29 29c2.7 2.7 2.7 7 0 9.7l-29 29c-2.7 2.6-7 2.6-9.7 0ZM81 295.7l19.3 19.3 19.3-19.3-19.3-19.3L81 295.7Z"}),React.createElement("path",{d:"M143.7 445.3 81 382.6c-21.3-21.3-21.3-55.9 0-77.2 2.7-2.7 7-2.7 9.7 0 2.7 2.7 2.7 7 0 9.7-16 16-16 42 0 57.9l62.8 62.8c2.7 2.7 2.7 7 0 9.7-2.7 2.7-7.1 2.5-9.8-.2Zm.008-357.234 24.112-24.113L331.942 228.07l-24.112 24.112L143.708 88.066Z"}),React.createElement("path",{d:"m71.328 295.672 28.99-28.992 28.992 28.991-28.991 28.992-28.992-28.991Z"})),React.createElement("defs",null,React.createElement("clipPath",{id:"a"},React.createElement("path",{d:"M0 0h447v447H0z"})))),nr=R.create("Commands"),rr=new Map,ar={id:"powercord",type:0,name:"Powercord",icon:"https://github.com/powercord-org.png"};function sr(){const[e,t,n,r,a,s,o]=E.bulk(C.byProps("getBuiltInCommands"),C.byProps("getApplicationIconURL"),C.byProps("useSearchManager"),C.byProps("icon","selectable","wrapper"),C.byDisplayName("ApplicationCommandDiscoverySectionIcon",!0),C.byDisplayName("ApplicationCommandItem",!0),(e=>"ChannelApplicationIcon"===e.type.displayName));O.before("PowercordCommands",o,"type",((e,[t])=>{!t.section&&t.command.__powercord&&(t.section=ar)})),O.before("PowercordCommands",s,"default",((e,[t])=>{!t.section&&t.command.__powercord&&(t.section=ar)})),O.instead("PowercordCommands",a,"default",((e,t,n)=>{const[a]=t,s=void 0===a.selectable;if(a.section.id===ar.id){const e=de(r.wrapper,a.selectable&&r.selectable,a.selectable&&a.isSelected&&r.selected);return React.createElement("div",{className:e},React.createElement(tr,{width:a.width,height:a.height,className:de(r.icon,a.className),style:{width:`${a.width}px`,height:`${a.height}px`,padding:s?0:"4px",paddingBottom:s?0:"1px"}}))}return n.apply(e,t)})),e.BUILT_IN_SECTIONS.powercord=ar,O.instead("PowercordCommands",t,"getApplicationIconURL",((e,t,n)=>t[0]?.id===ar.id?ar.icon:n.apply(e,t))),O.instead("PowercordCommands",n.default,"getApplicationSections",((e,t,n)=>{try{const r=n.apply(e,t)??[];return r.find((e=>e.id===ar.id))||r.push(ar),r}catch{return[]}})),O.after("PowercordCommands",n.default,"getQueryCommands",((e,[,,t],n)=>{if(t&&!t.startsWith("/")){n??=[];for(const e of rr.values())if(~e.name?.indexOf(t)&&!n.some((t=>t.__powercord&&t.id===e.id)))try{n.unshift(e)}catch{n=[...n,e]}}})),O.after("PowercordCommands",n,"useSearchManager",((e,[,t],n)=>{if(1!==t||!rr.size)return n;n.sectionDescriptors?.find?.((e=>e.id===ar.id))||(n.sectionDescriptors??=[],n.sectionDescriptors.push(ar)),n.filteredSectionId&&n.filteredSectionId!==ar.id||n.activeSections.find((e=>e.id===ar.id))||n.activeSections.push(ar);const r=[...rr.values()];if(r.some((e=>!n.commands?.find?.((t=>e.__powercord&&t.id===e.id))))){n.commands??=[];const e=[...n.commands,...r];n.commands=[...new Set(e).values()]}n.filteredSectionId&&n.filteredSectionId!==ar.id||n.commandsByActiveSection.find((e=>e.section.id===ar.id))||n.commandsByActiveSection.push({section:ar,data:r});const a=n.commandsByActiveSection.find((e=>e.section.id===ar.id));n.filteredSectionId&&n.filteredSectionId!==ar.id||!a||0!==a.data.length||0===rr.size||(a.data=r);const s=n.sectionDescriptors.filter((e=>"-1"===e.id));return s.length>1&&(n.sectionDescriptors=n.sectionDescriptors.filter((e=>"-1"!==e.id)),n.sectionDescriptors.push(s.find((e=>"-1"===e.id)))),n})),j.addEventListener("reload-core",(()=>{O.unpatchAll("PowercordCommands")}))}async function or(e,t){const{command:n,executor:r}=e;try{const e=L.SelectedChannelStore.getChannelId(),n=await r(t);if(!n||!n.result)return;if(n.send)L.MessageActions.sendMessage(e,{content:n.result,invalidEmojis:[],validNonShortcutEmojis:[],tts:!1});else{const t={embeds:[]};"string"==typeof n.result?t.content=n.result:t.embeds.push(n.result),Xn.sendMessage(e,t)}}catch(t){nr.error(`Could not executor for ${e.command}-${n}:`,t),Xn.sendMessage(void 0,{content:":x: An error occurred while running this command. Check your console."})}}function ir(e){const{command:t,executor:n,...r}=e;rr.set(t,{type:0,target:1,id:t,name:t,applicationId:ar.id,dmPermission:!0,listed:!0,__powercord:!0,options:[{type:3,required:!1,description:`Usage: ${r.usage?.replace?.(/{c}/g,t)??t}`,name:"args"}],...r,execute:async t=>{try{or(e,Object.values(t).map((e=>e.value))??[])}catch(e){nr.error(e)}}})}function cr(e){rr.delete(e)}x.then((()=>{const{LocaleManager:e,LocaleStore:t}=L;dr=e.getLocale();const n=()=>{t.locale!==dr&&(dr=t.locale,e.loadPromise.then(hr))};t.addChangeListener(n),hr(),j.addEventListener("reload-core",(()=>{t.removeChangeListener(n)}))}));let lr={},dr=null;function ur(e){for(let t in e)pr(t,e[t])}function pr(e,t){lr[e]||(lr[e]={}),Object.assign(lr[e],t),hr()}function hr(){if(!L.LocaleManager)return;const e=L.LocaleManager._provider._context;Object.assign(e.messages,lr[dr]),Object.assign(e.defaultMessages,lr["en-US"])}class mr{static elements={};static get head(){return ee(this,"head",document.head.appendChild(this.createElement("pc-head")))}static createElement(e,t={},...n){const r=Object.assign(document.createElement(e),t);return r.append(...n),r}static injectCSS(e,t,n){switch(n?.type??"PLAIN"){case"PLAIN":var r=this.createElement("style",{id:e,textContent:t});break;case"URL":r=this.createElement("link",{rel:"stylesheet",href:t})}return(n?.documentHead?document.head:this.head).appendChild(r),this.elements[e]=r,r}static injectJS(e,t,n){return new Promise(((r,a)=>{const s=this.createElement("script",{id:e,src:t,onload:r,onerror:a});(n?.documentHead?document.head:this.head).appendChild(s),this.elements[e]=s}))}static getElement(e){return this.elements[e]||this.head.querySelector(`style[id="${e}"]`)}static clearCSS(e){const t=this.getElement(e);t&&t.remove(),delete this.elements[e]}}function fr(e){const t=new Set,n=Object.freeze({get listeners(){return t},getState:(t=(e=>e))=>t(e),setState(n){const r="function"==typeof n?n(e):n;Object.is(e,r)||(e=Object.assign({},e,r),t.forEach((t=>{t(e)})))},addListener(e){if(!t.has(e))return t.add(e),()=>t.delete(e)},removeListener:e=>t.delete(e)});function r(e=(e=>e)){const[,r]=L.React.useReducer((e=>e+1),0);return L.React.useEffect((()=>{const e=()=>r();return t.add(e),()=>t.delete(e)}),[]),n.getState(e)}return Object.assign(r,n,{*[Symbol.iterator](){yield r,yield n}}),r}const gr=R.create("FLuxDispatcher");function yr(){return yr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yr.apply(this,arguments)}const[vr,Cr]=fr({notices:{}}),wr=function(){const e={},t={events:e,emit(t){if(e[t?.type])for(const n of e[t.type])try{n(t)}catch(e){gr.error(`Could not fire callback for ${t}:`,e)}},on:(n,r)=>(e[n]||(e[n]=new Set),e[n].add(r),()=>t.off(n,r)),off(t,n){if(e[t])return e[t].delete(n)},once(e,n){const r=t.on(e,(e=>(r(),Reflect.apply(n,null,[e]))));return r},useComponentDispatch:function(e,n){L.React.useEffect((()=>t.on(e,n)))}};return t}(),Er={info:{icon:"info-circle",color:"var(--info-help-foreground)"},warning:{icon:"exclamation-circle",color:"var(--info-warning-foreground)"},danger:{icon:"times-circle",color:"var(--info-danger-foreground)"},success:{icon:"check-circle",color:"var(--info-positive-foreground)"}};function br(e){const{ReactSpring:{useSpring:t,animated:n},Button:r,Markdown:a}=L,[s,o]=React.useState(!1);e.type&&Er[e.type]&&(e.icon={...Er[e.type]});const i=t({from:{progress:0},to:{progress:100},config:t=>"progress"===t?{duration:e.timeout}:{duration:0}});return wr.useComponentDispatch("SET_CLOSING",(t=>{t.all&&o(!0),t.id===e.id&&i.progress.set(100)})),React.useEffect((()=>{s&&setTimeout(e.onClose,380)}),[s]),React.createElement(n.div,{onMouseEnter:()=>i.progress.pause(),onMouseLeave:()=>i.progress.resume(),className:de("pc-notice-container",[s,"pc-notice-closing"])},React.createElement("div",{className:"pc-notice-header"},React.createElement("div",{className:"pc-notice-header-name"},e.icon&&"object"==typeof e.icon?React.createElement(an,{className:"pc-notice-icon",spin:e.icon.spin,icon:e.icon.icon,color:e.icon.color}):React.createElement(an,{className:"pc-notice-icon",icon:e.icon}),e.header),React.createElement(r,{look:r.Looks.BLANK,size:r.Sizes.NONE,className:"pc-notice-close",onClick:()=>o(!0),onContextMenu:()=>wr.emit({type:"SET_CLOSING",all:!0})},React.createElement(fn,{name:"Close"}))),e.content&&React.createElement("div",{className:"pc-notice-content"},"string"==typeof e.content?React.createElement(a,null,e.content):e.content),Array.isArray(e.buttons)&&React.createElement("div",{className:"pc-notice-footer"},e.buttons.map(((e,t)=>e&&React.createElement(r,{color:r.Colors[e.color?.toUpperCase()??"BRAND_NEW"],look:r.Looks[e.look?.toUpperCase()||"FILLED"],size:r.Sizes[e.size?.toUpperCase()||"MIN"],onClick:()=>{e.onClick?.(),o(!0)},key:"button-"+t,className:"pc-notice-button"},e.text)))),e.timeout>0&&React.createElement("div",{className:"pc-notice-progress"},React.createElement(n.div,{className:"pc-notice-progress-bar",style:{width:i.progress.to((t=>(t>97&&0!==e.timeout&&!s&&o(!0),`${t}%`)))}})))}function Rr(){const e=vr((e=>Object.entries(e.notices)));return React.createElement(Pe,null,e.map((([e,t])=>React.createElement(br,yr({id:e},t,{key:e})))))}class Sr{static container=mr.createElement("div",{className:"pc-notices"});static initialize(){const{ReactDOM:e}=L;e.render(React.createElement(Rr,null),this.container),document.body.appendChild(this.container),j.addEventListener("reload-core",(()=>{e.unmountComponentAtNode(this.container),this.container.remove()}))}static show(e){const t=Cr.getState();e.id&&!t.notices[e.id]||(e.id=pe()),Cr.setState({notices:{...t.notices,[e.id]:{...e,onClose:()=>{this.remove(e.id)}}}})}static isShown(e){return!!Cr.getState().notices[e]}static close(e){if(!Cr.getState().notices[e])throw new Error(`Notice with id ${e} does not exist!`);wr.emit({type:"SET_CLOSING",id:e})}static remove(e){const t=Cr.getState();if(!t.notices[e])throw new Error(`Notice with id ${e} already exists!`);delete t.notices[e],Cr.setState({notices:{...t.notices}})}}x.then((()=>Sr.initialize()));const Or=R.create("Notices:Announcement"),Nr=K(x.then((()=>{const e=E.findModule((e=>"Notice"===e.default?.displayName)),t=e.NoticeCloseButton,n=e.NoticeButton,r=e.default,a={BLURPLE:e.NoticeColors.BRAND,RED:e.NoticeColors.DANGER,ORANGE:e.NoticeColors.DEFAULT,BLUE:e.NoticeColors.INFO,GREY:e.NoticeColors.NEUTRAL,DARK_GREY:e.NoticeColors.DARK,GREEN:e.NoticeColors.NOTIFICATION,BLURPLE_GRADIENT_1:e.NoticeColors.PREMIUM_TIER_1,BLURPLE_GRADIENT_2:e.NoticeColors.PREMIUM_TIER_2,SPOTIFY:e.NoticeColors.SPOTIFY,PURPLE:e.NoticeColors.STREAMER_MODE};return function(e){const s=function(t){try{if(Ir(e.id),t&&"function"==typeof t)return t()}catch(e){return Or.error(e)}};return React.createElement(r,{color:a[e.color?.toUpperCase()]??a.BLURPLE,id:e.id},React.createElement(t,{onClick:()=>s(e.callback)}),e.message,e.button&&React.createElement(n,{onClick:()=>s(e.button.onClick)},e.button.text))}})));function Pr(){return Pr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Pr.apply(this,arguments)}const Mr=fr({elements:{}});function xr({store:e}){const t=e((e=>e.elements));return React.createElement(React.Fragment,null,Object.values(t).map((e=>React.createElement(Nr,Pr({},e,{key:e.id})))))}const Lr=R.create("Announcements"),[jr,Ar]=Mr;function kr(e,t){const n=Ar.getState();if(n.elements[e])throw`Announcement with id ${e} already exists!`;Ar.setState({...n,elements:{...n.elements,[e]:{...t,id:e}}})}function Ir(e){const t=Ar.getState();if(!t.elements[e])return!1;delete t.elements[e],Ar.setState(Object.assign({},t))}x.then((()=>{!function(){const e=E.findByProps("notice","colorDefault","buttonMinor");e.notice.indexOf("powercord-announcement")||(e.notice+=" powercord-announcement")}(),async function(){const{base:e}=E.findByProps("base","container")??{base:"pc-not-found"},t=U(await H(`.${e.split(" ")[0]}`));O.after("pc-compat-notices",t?.props?.children,"type",((t,n,r)=>{try{const{children:t}=B(r,(t=>t.className===e));t.unshift(React.createElement(xr,{store:jr}))}catch(e){return Lr.error(e)}})),t.forceUpdate()}(),j.addEventListener("reload-core",(()=>{O.unpatchAll("pc-compat-notices")}))})).catch((e=>{Lr.error("Failed to initialize:",e)}));const Tr={},_r={};function Br(e,t){return Sr.show(Object.assign(t,{id:e}))}function Dr(e){return Sr.close(e)}function Ur(){return Promise.resolve([])}const Fr=[],Hr=()=>[],$r=()=>[];function zr(){}function Vr(){}function qr(){return null}function Jr(e){return L.ModalsApi.openModal((t=>React.createElement(Te.Modal,{...t,className:"pc-modal-container"},React.createElement(e,t))))}function Gr(){const e=L.ModalsApi.useModalsStore?.getState?.()?.default?.slice(-1)[0]?.key;e&&L.ModalsApi.closeModal(e)}function Zr(){L.ModalsApi.closeAllModals()}const Wr=R.create("Events");class Kr{static get EventEmitter(){return Kr}static get defaultMaxListeners(){return 10}constructor(){this.maxListeners=Kr.defaultMaxListeners,this.events={newListener:new Set}}setMaxListeners(e){if("number"!=typeof e||e<0||Number.isNaN(e))throw new Error(`Invalid argument for "count": ${e}`);return this.maxListeners=e,this}emit(e,...t){if(!this.events[e])return this;for(const[n,r]of this.events[e].entries())try{r(...t)}catch(t){Wr.error("Emitter",`Cannot fire listener for event ${e} at position ${n}:`,t)}return this}off(e,t){if(this.events[e])return this.events[e].delete(t),this}on(e,t){return this.events[e]||(this.events[e]=new Set),this.emit("newListener",e,t),this.events[e].add(t),this}once(e,t){return this.on(e,t),this}removeAllListeners(e){return this.events[e]&&this.events[e].clear(),this}listenerCount(e){return this.events[e]?.size??0}getMaxListeners(){return this.maxListeners}eventNames(){return Reflect.ownKeys(this.events)}get removeListener(){return this.off}get addListener(){return this.on}}function Yr(e,t,n){"function"==typeof t&&(n=t,t=void 0);const r="HTTPS_GET_"+Math.random().toString(36).slice(2),a=new Kr;PCCompatNative.IPC.on(r,((e,...t)=>{if("__data"===e)return Object.assign(a,...t);t[0]instanceof Uint8Array&&(t[0].toString=()=>String.fromCharCode(...t[0])),"end"===e&&Object.assign(a,t[0]),a.emit(e,...t)})),Object.assign(a,{end:()=>{}});const s=[e,t].filter(Boolean).map((e=>JSON.stringify(e))).join(", ");return PCCompatNative.executeJS(`\n        require("https").get(${s}, (res) => {\n            for (const event of ["end", "data", "close"]) {\n                res.on(event, (...args) => {\n                    if (event === "end") {\n                        args.push(Object.fromEntries(["statusCode", "statusMessage", "url", "headers", "method", "aborted", "complete", "rawHeaders", "end"].map(e => [e, res[e]])));\n                    }\n\n                    PCCompatNative.IPC.dispatch(${JSON.stringify(r)}, event, ...args);\n\n                    if (event === "close") {\n                        delete PCCompatEvents[${JSON.stringify(r)}];\n                    }\n                });\n            }\n        });\n    `),n(a),a}function Qr(...e){return Reflect.apply(Yr,this,arguments)}function Xr(){return DiscordNative.nativeModules.requireModule("discord_rpc").RPCWebSocket.http.createServer.apply(this,arguments)}function ea(e,t,n){"function"==typeof t&&(n=t,t=void 0);const r="HTTPS_GET_"+Math.random().toString(36).slice(2),a=new Kr;PCCompatNative.IPC.on(r,((e,...t)=>{if("__data"===e)return Object.assign(a,...t);t[0]instanceof Uint8Array&&(t[0].toString=()=>String.fromCharCode(...t[0])),"end"===e&&Object.assign(a,t[0]),a.emit(e,...t)})),Object.assign(a,{end:()=>{}});const s=[e,t].filter(Boolean).map((e=>JSON.stringify(e))).join(", ");return PCCompatNative.executeJS(`\n        require("http").get(${s}, (res) => {\n            for (const event of ["end", "data", "close"]) {\n                res.on(event, (...args) => {\n                    if (event === "end") {\n                        args.push(Object.fromEntries(["statusCode", "statusMessage", "url", "headers", "method", "aborted", "complete", "rawHeaders", "end"].map(e => [e, res[e]])));\n                    }\n\n                    PCCompatNative.IPC.dispatch(${JSON.stringify(r)}, event, ...args);\n\n                    if (event === "close") {\n                        delete PCCompatEvents[${JSON.stringify(r)}];\n                    }\n                });\n            }\n        });\n    `),n(a),a}function ta(...e){return Reflect.apply(ea,this,arguments)}function na(){return DiscordNative.nativeModules.requireModule("discord_rpc").RPCWebSocket.http.createServer.apply(this,arguments)}const ra=PCCompatNative.executeJS('require("querystring")'),aa={parse:(...e)=>PCCompatNative.executeJS(`\n        PCCompatNative.cloneObject(require("url").parse(${e.map((e=>JSON.stringify(e))).join(", ")}));\n    `)},sa=R.create("HTTP");class oa extends Error{constructor(e,t){super(e),Object.assign(this,t),this.name=this.constructor.name}}const ia=class{constructor(e,t){this.opts={method:e,uri:t,query:{},headers:{"User-Agent":navigator.userAgent}}}_objectify(e,t){return e instanceof Object?e:{[e]:t}}query(e,t){return Object.assign(this.opts.query,this._objectify(e,t)),this}set(e,t){return Object.assign(this.opts.headers,this._objectify(e,t)),this}send(e){if(e instanceof Object){const t="application/x-www-form-urlencoded"===this.opts.headers["Content-Type"]?ra.encode:JSON.stringify;this.opts.data=t(e)}else this.opts.data=e;return this}execute(){return new Promise(((e,t)=>{const n=Object.assign({},this.opts);sa.debug("Performing request to",n.uri);const{request:r}=n.uri.startsWith("https")?h:m;Object.keys(n.query)[0]&&(n.uri+=`?${ra.encode(n.query)}`);const a=r(Object.assign({},n,aa.parse(n.uri)),(n=>{const r=[];n.on("data",(e=>{r.push(e)})),n.once("error",t),n.once("end",(()=>{const a=Buffer.concat(r),s={raw:a,body:(()=>{if(/application\/json/.test(n.headers["content-type"]))try{return JSON.parse(a)}catch(e){}return a})(),ok:n.statusCode>=200&&n.statusCode<400,statusCode:n.statusCode,statusText:n.statusMessage,headers:n.headers};s.ok?e(s):t(new oa(`${n.statusCode} ${n.statusMessage}`,s))}))}));a.once("error",t),this.opts.data&&a.write(this.opts.data),a.end()}))}then(e,t){return this._res?this._res.then(e,t):this._res=this.execute().then(e,t)}catch(e){return this.then(null,e)}},ca={get:e=>new ia("GET",e),post:e=>new ia("POST",e),patch:e=>new ia("PATCH",e),put:e=>new ia("PUT",e),del:e=>new ia("DELETE",e),head:e=>new ia("HEAD",e)},la={WEBSITE:"https://github.com/strencher-kernel/pc-compat",I18N_WEBSITE:"https://example.com",REPO_URL:"strencher-kernel/pc-compat",SETTINGS_FOLDER:ne.resolve(PCCompatNative.getBasePath(),"config"),CACHE_FOLDER:null,LOGS_FOLDER:null,DISCORD_INVITE:"8mPTjTZ4SZ",GUILD_ID:"891039687785996328",SpecialChannels:{KNOWN_ISSUES:"891039688352219198",SUPPORT_INSTALLATION:"891053581136982056",SUPPORT_PLUGINS:"891053581136982056",SUPPORT_MISC:"891053581136982056",STORE_PLUGINS:"649571600764633088",STORE_THEMES:"649571547350302741",CSS_SNIPPETS:"755005803303403570",JS_SNIPPETS:"896214131525443635"}};class da{static compile(e){return zn.ipcRenderer.sendSync("pccompat-compile-sass",e)}}class ua{static compile(e){return zn.ipcRenderer.sendSync("pccompat-compile-jsx",e)}}let pa=!1;E.whenReady.then((()=>{pa=!0}));const ha=null;function ma(){return null}function fa(e,t){if("loaded"===e)return E.whenReady.then(t)}const ga=PCCompatNative.executeJS('require("os")'),ya=PCCompatNative.executeJS('require("util")'),va=PCCompatNative.executeJS('require("zlib")'),Ca=PCCompatNative.executeJS('Object.keys(require("stream"))'),wa={};for(const e of Ca)wa[e]=PCCompatNative.executeJS(`require("stream").${e}`);const Ea=wa,ba=PCCompatNative.executeJS('Object.keys(require("crypto"))'),Ra={};for(const e of ba)Ra[e]=PCCompatNative.executeJS(`require("crypto").${e}`);const Sa=Ra,Oa=PCCompatNative.executeJS('Object.keys(require("net"))'),Na={};for(const e of Oa)Na[e]=PCCompatNative.executeJS(`require("net").${e}`);const Pa=Na,Ma=PCCompatNative.executeJS('Object.keys(require("tls"))'),xa={};for(const e of Ma)xa[e]=PCCompatNative.executeJS(`require("tls").${e}`);const La=xa,ja={},Aa=ja,ka={},Ia=["require","module","exports","__filename","__dirname","global"].join(", "),Ta=[ne.resolve(PCCompatNative.getBasePath(),"node_modules")],_a={".js":(e,t)=>{const n=te.readFileSync(t,"utf8");return e._compile(n),e.exports},".json":(e,t)=>{const n=te.readFileSync(t,"utf8");return e.exports=JSON.parse(n),e.exports},".jsx":(e,t)=>{const n=ua.compile(t);return e.filecontent=n,e._compile(n,t),e.exports},".scss":(e,t)=>{const n=da.compile(t);return e.exports=n,n},".css":(e,t)=>{const n=te.readFileSync(t,"utf8");return e.exports=n,e.exports},".node":(e,t)=>{const n=PCCompatNative.executeJS(`require(${JSON.stringify(t)})`);return e.exports=n,n}};class Ba{constructor(e,t){this.id=e,this.path=ne.dirname(e),this.exports={},this.parent=t,this.filename=e,this.loaded=!1,this.children=[],t&&t.children.push(this)}_compile(e){window.eval(`(function (${Ia}) {\n            ${e}\n            //# sourceURL=${JSON.stringify(this.filename).slice(1,-1)}\n        })`)(this.require,this,this.exports,this.filename,this.path,window)}}function Da(e){for(const t in ka)if(t.startsWith(e))return t}function Ua(e,t){const n=n=>{if("string"==typeof n){if(~n.indexOf("pc-settings/components/ErrorBoundary"))return Pe;switch(n){case"powercord":return g;case"path":return ne;case"fs":return te;case"module":return qa;case"process":return window.process;case"electron":return zn;case"https":return h;case"http":return m;case"react":return L.React;case"react-dom":return L.ReactDOM;case"events":return Kr;case"os":return ga;case"util":return ya;case"zlib":return va;case"stream":return Ea;case"querystring":return ra;case"url":return aa;case"net":return Pa;case"tls":return La;case"crypto":return Sa;case"buffer":return Aa;default:if(n.startsWith("powercord/")){const e=n.split("/").slice(1).filter(Boolean).reduce(((e,t)=>e[t]),g);if(e)return e}return Va(e,n,t)}}};return Object.assign(n,{cache:ka,resolve:Da}),n}function Fa(e){return Boolean(_a[ne.extname(e)])}function Ha(e){return ne.extname(e)||Object.keys(_a).find((t=>te.existsSync(e+t)))||""}function $a(e,t){const n=t.find((t=>te.existsSync(ne.join(t,e))));if(n)return n;return t.find((t=>Ha(ne.join(t,e))))||""}function za(e,t){const n=Fa(e)?ne.dirname(e):function(e,t){const n=ne.resolve(e,t);if(te.existsSync(n))return n;const r=ne.join(function(e){const t=$a(e,Ta);if(t)return t;const n=Ta.flatMap((e=>function(e){const t=ne.join(e,".pnpm");if(!te.existsSync(t)||!te.statSync(t).isDirectory())return[];const n=[];for(const e of te.readdirSync(t,"utf8")){const r=ne.join(t,e,"node_modules");te.existsSync(r)&&n.push(r)}return n}(e)));return $a(e,n)||""}(t),t);return te.existsSync(r)?r:""}(e,t);if(!te.existsSync(n))throw new Error(`Cannot find module ${t}\ntree:\n\r-${e}`);const r=te.readdirSync(n,"utf8");for(const e of r){const t=ne.extname(e);if("package.json"===e){const t=JSON.parse(te.readFileSync(ne.resolve(n,e),"utf8"));if(!Reflect.has(t,"main"))continue;return ne.resolve(n,Fa(t.main)?t.main:t.main+Ha(ne.join(n,t.main)))}if("index"===e.slice(0,-t.length)&&_a[t])return ne.resolve(n,e)}if(t.startsWith("./"))return null;const a=Ta.find((e=>te.existsSync(ne.join(e,t))));return a?za(a,t):Ta.find((e=>Ha(ne.join(e,t))))}function Va(e,t,n=null){const r=function(e,t){const n=ne.resolve(e,t),r=Fa(n)?n:n+Ha(n);return te.existsSync(r)&&te.statSync(r).isFile()?r:Fa(t)?t:za(e,t)}(e,t);if(!te.existsSync(r))throw new Error(`Cannot find module ${t}\ntree:\n\r-${e}`);if(ka[r])return ka[r].exports;te.statSync(r,"utf8").isDirectory()&&(t=za(e,t));const a=Ha(r),s=_a[a];if(!s)throw new Error(`Cannot find module ${r}`);const o=ka[r]=new Ba(r,n),i=Ua(ne.dirname(r),o);return o.require=i,s(o,r),o.exports}const qa={_extensions:_a,cache:ka,_load:Va,globalPaths:Ta};if(window.process&&!window.process.contextIsolated){const e=window.require("module"),t=e._load;e._load=function(e){if("powercord"===e)return g;if(~e.indexOf("pc-settings/components/ErrorBoundary"))return Pe;if(e.startsWith("powercord/")){const t=e.split("/").slice(1).filter(Boolean).reduce(((e,t)=>e[t]),g);if(t)return t}return Reflect.apply(t,this,arguments)};const n=[".jsx",".scss",".css"];for(const t of n)e._extensions[t]=_a[t];e.globalPaths.push(ne.resolve(PCCompatNative.getBasePath(),"node_modules"))}const Ja=!window.process||process.contextIsolated?qa:window.require("module");if(!window.process)try{PCCompatNative.IPC.dispatch("pccompat-expose-process-global")}catch(e){console.error(e)}const Ga=process.contextIsolated?Ua(ne.resolve(PCCompatNative.getBasePath(),"plugins"),null):window.require,Za=[process.contextIsolated&&["buffer/",function(e){Object.assign(ja,e),Object.assign(window,{Buffer:e.Buffer})}]].filter(Boolean);for(let e=0;e<Za.length;e++){const[t,n]=Za[e];try{n(Ga(t))}catch(e){console.error(`Failed to require "${t}":`,e)}}const Wa=Ga;class Ka{logger=new R("Store");events={};has(e){return e in this.events}on(e,t){return this.has(e)||(this.events[e]=new Set),this.events[e].add(t),()=>{this.off(e,t)}}off(e,t){if(this.has(e))return this.events[e].delete(t)}emit(e,...t){if(!this.has(e))return;const n=[...this.events[e]];for(let e=0;e<n.length;e++){const r=n[e];try{r(...t)}catch(e){this.logger.error(`Store:${this.constructor.name}`,e)}}}useEvent(e,t,n=(()=>!0)){const[r,a]=L.React.useState(t());return L.React.useEffect((()=>this.on(e,((...e)=>n(...e)&&a(t())))),[e,t]),r}useState(e,t=(()=>!0)){return this.useEvent("update",e,t)}emitChange(){this.emit("update")}}const Ya=R.create("DataStore"),Qa=new class extends Ka{constructor(){if(super(),!te.existsSync(this.configFolder))try{te.mkdirSync(this.configFolder,{recursive:!0})}catch(e){Ya.error("Failed to create config folder:",e)}const e=PCCompatNative.getBasePath(),t=ne.join(e,"config");if(te.existsSync(t)&&!this.getMisc("migratedSettings",!1)){Ya.log("Old settings folder detected, migrating settings.");const n=te.readdirSync(t);for(const r of n){const n=ne.join(t,r),a=ne.join(this.configFolder,r);te.existsSync(a)||(Ya.log(`Migrating ${ne.basename(e)}/${ne.basename(t)}/${r}`),te.renameSync(n,a))}this.setMisc(void 0,"migratedSettings",!0),Ya.log("Migration completed.")}}baseDir=ne.resolve(PCCompatNative.getBasePath(),"..","..");configFolder=ne.resolve(this.baseDir,"storage","strencher.pc-compat");cache=new Map;tryLoadData(e,t={}){if(this.cache.has(e))return this.merge({},t,this.cache.get(e));try{const n=ne.resolve(this.configFolder,`${e}.json`);if(!te.existsSync(n))return t;let r=Wa(n);return 0===Object.keys(r).length?t:(r=this.merge({},t,r),this.cache.set(e,r),r)}catch(n){return Ya.error(`Data of ${e} corrupt:`,n),t}}trySaveData(e,t,n,r="data-update"){this.cache.set(e,t);try{te.writeFileSync(ne.resolve(this.configFolder,`${e}.json`),JSON.stringify(t,null,"\t"),"utf8")}catch(t){Ya.error(`Failed to save data of ${e}:`,t)}n&&this.emit(r,e,t)}getMisc(e="",t){return oe(this.tryLoadData("misc"),e)??t}setMisc(e=this.getMisc("",{}),t,n){this.set(e,t,n),this.trySaveData("misc",e),this.emit("misc",e,n)}merge(e,...t){for(const n of t)for(let t in n){let r=n[t],a=e[t];Object(r)!=r||Object(a)!==a?e[t]=n[t]:e[t]=this.merge(a,r)}return e}set(e,t,n){t.split&&(t=t.split("."));for(var r,a,s=0,o=t.length,i=e;s<o&&"__proto__"!==(a=t[s++])&&"constructor"!==a&&"prototype"!==a;)i=i[a]=s===o?n:typeof(r=i[a])==typeof t?r:0*t[s]!=0||~(""+t[s]).indexOf(".")?{}:[]}},Xa=Qa,es=JSON.parse('{"i8":"1.3.0-dev","VI":[{"type":"ADDED","title":"Added","items":["Added splash screen theming.","Added plugin reloading."]},{"type":"FIXED","title":"Fixes","items":["Fixed commands entirely, should now work fine again."]}]}'),ts=JSON.parse('{"autoFetch":{"type":"switch","name":"Automatically Fetch","note":"Automatically fetch for updates in a defined period.","value":true},"useQueue":{"type":"switch","name":"Potato Mode","note":"Runs updates in a queue, making update checks on low-end PCs less heavy.","value":false},"fetchPeriod":{"type":"text","name":"Update Fetch Period","note":"Period between automatically fetches for updates. (in minutes)","requires":["autoFetch"],"value":30},"updateCountOnSettingsGear":{"type":"switch","name":"Show Update Count on Settings Gear","note":"Shows an unread badge of pending updates on the settings gear.","value":true},"updateCountOnSettingsTab":{"type":"switch","name":"Show Update Count on Settings Tab","note":"Shows an unread badge of pending updates on the settings tab.","value":true}}');function ns(){return ns=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ns.apply(this,arguments)}const rs=Object.entries(ts).reduce(((e,[t,n])=>(e[t]=n.value,e)),{});function as(e){const{SwitchItem:t,TextInput:n}=on.settings,r=Xa.useState((()=>Xa.tryLoadData("updater",rs)[e.id])),a=t=>{"string"!=typeof t||Number.isNaN(Number(t))||(t=Number(t)),Xa.trySaveData("updater",{...Xa.tryLoadData("updater",rs),[e.id]:t},!0)};switch(e.type){case"switch":return React.createElement(t,ns({},e,{value:r,onChange:a}),e.name);case"text":return React.createElement(n,{note:e.note,value:r,onChange:a},e.name)}}function ss(){return React.createElement(React.Fragment,null,Object.entries(ts).map((([e,t])=>React.createElement(as,ns({key:e,id:e},t)))))}const os={lastCheckedUpdate:"---",...rs},is=new class extends Ka{#a={updates:[],lastCheckedUpdate:os.lastCheckedUpdate,isFetching:!1,isUpdatingAll:!1,ignoredUpdates:new Set};loadData(){return Xa.tryLoadData("updater",os)}initialize(){const e=this.loadData();this.#a.lastCheckedUpdate=e.lastCheckedUpdate,this.#a.ignoredUpdates=new Set(e.ignoredUpdates)}getUpdates(){return this.#a.updates}getLastCheckedUpdate(){return this.#a.lastCheckedUpdate}setUpdates(e){this.#a.updates=e,this.emitChange()}removeUpdate(e){const t=this.getUpdates().indexOf(this.getUpdate(e));if(t<0)return!1;this.#a.updates.splice(t,1),this.#a.updates=[...this.#a.updates],this.emitChange()}getUpdate(e){const t=this.getUpdates().findIndex((t=>t.id===e));return!(t<0)&&this.getUpdates()[t]}updateLastCheckedUpdate(){this.#a.lastCheckedUpdate=(new Date).toJSON(),Xa.trySaveData("updater",{...Xa.tryLoadData("updater",os),lastCheckedUpdate:this.#a.lastCheckedUpdate}),this.emitChange()}getPendingUpdateCount(){return this.getUpdates().filter((e=>!this.isIgnored(e.entityId??e.type))).length}isUpdatingAll(){return this.#a.isUpdatingAll}startUpdatingAll(){this.#a.isUpdatingAll=!0,this.emitChange()}stopUpdatingAll(){this.#a.isUpdatingAll=!1,this.emitChange()}isFetching(){return this.#a.isFetching}startFetching(){this.#a.isFetching=!0,this.emitChange()}stopFetching(){this.#a.isFetching=!1,this.emitChange()}isIgnored(e){return this.#a.ignoredUpdates.has(e)}ignore(e){this.#a.ignoredUpdates.has(e)||(this.#a.ignoredUpdates.add(e),Xa.trySaveData("updater",{...this.loadData(),ignoredUpdates:Array.from(this.#a.ignoredUpdates)}),this.emitChange())}acknowledge(e){this.#a.ignoredUpdates.has(e)&&(this.#a.ignoredUpdates.delete(e),Xa.trySaveData("updater",{...this.loadData(),ignoredUpdates:Array.from(this.#a.ignoredUpdates)}),this.emitChange())}};x.then((()=>is.initialize()));const cs=is;function ls({className:e="",type:t}){const{Badges:n}=L,r=cs.useState((()=>cs.getPendingUpdateCount())),a=Xa.useEvent("data-update",(()=>{let e="";switch(t){case"sidebar":e="updateCountOnSettingsTab";break;case"gear":e="updateCountOnSettingsGear"}return Xa.tryLoadData("updater",os)[e]}),(e=>"updater"===e));return r<1||!a?null:React.createElement(n.Number,{className:e,count:r})}function ds(e,t){return function(n){const[r,a]=React.useState({resolved:!1,value:void 0});return React.useEffect((()=>{r.resolved||e(n).then((e=>{a({value:e,resolved:!0})}))}),[r]),r.resolved?r.value:React.createElement(t,n)}}const us=["hash","hash_short","author","date","message"],ps=["short","full"];class hs{static async executeCmd(e,t){return PCCompatNative.runCommand(e,t)}static async hasGitInstalled(){try{return await this.executeCmd("git --version"),!0}catch{return!1}}static async isGitRepo(e){try{return"true"===(await this.executeCmd("git rev-parse --is-inside-work-tree",e)).trim()}catch{return!1}}static async getRemoteURL(e){try{return(await this.executeCmd("git config --get remote.origin.url",e)).trim()}catch(e){return console.error(e),null}}static async getBranches(e){try{return(await this.executeCmd("git branch -r",e)).replaceAll(" ","").replaceAll("origin/","").trimEnd().split("\n")}catch(e){return console.error(e),null}}static async getBranchName(e){try{const t=await this.executeCmd("git branch -a",e);return t?t.slice(2,t.indexOf("\n")):null}catch(e){return console.error(e),null}}static async getLatestCommit(e,t="master"){try{return this.parsePeriods(ps,await this.executeCmd(`git log -1 ${t} --pretty=format:"%h@@@===@@@%H"`,e))}catch(e){return console.error(e),{hasError:!0}}}static async getDiff(e,t="master"){try{await this.executeCmd("git fetch",e);const n=await this.executeCmd(`git log ${t}..origin/${t} --pretty=format:"%H@@@===@@@%h@@@===@@@%an@@@===@@@%ar@@@===@@@%s"`,e);return n?n.split("\n").map((e=>this.parsePeriods(us,e))):[]}catch(e){return console.error(e),[]}}static parsePeriods(e,t){return Object.fromEntries(t.split("@@@===@@@").map(((t,n)=>[e[n],t])))}}const ms=JSON.parse(te.readFileSync(ne.resolve(PCCompatNative.getBasePath(),"index.json"),"utf8"));class fs{static releases_url="https://api.github.com/repos/strencher-kernel/pc-compat/releases/latest";static currentRelease=ms.version;static async fetchRelease(){return(await fetch(this.releases_url)).json()}static async hasUpdateAvailable(e){return e.name!==ms.version}}const gs=(()=>{let e=0;return()=>e++})();class ys{static async installCoreUpdate(e,t){return PCCompatNative.isPacked?PCCompatNative.executeJS('async (url, path, encoding) => {\n            const fs = require("original-fs");\n            const buffer = await new Promise(resolve => {\n                const fetchUrl = function (url) {\n                    require("https").get(url, {\n                        headers: {\n                            "User-Agent": "Kernel-mod pc-compat",\n                            "Accept": encoding\n                        }\n                    }, res => {\n                        if (res.statusCode === 301 || res.statusCode === 302) {\n                            return fetchUrl(res.headers.location);\n                        }\n\n                        const data = [];\n                        res.on("data", chunk => data.push(chunk));\n                        res.on("end", () => {\n                            resolve(Buffer.concat(data));\n                        });\n                    });\n                };\n\n                fetchUrl(url);\n            });\n\n            return fs.promises.writeFile(path, buffer);\n        }')(e,PCCompatNative.getBasePath(),t):hs.executeCmd("git pull",PCCompatNative.getBasePath())}static async installAddonUpdate(e,t){t&&await hs.executeCmd("git reset --hard",e),await hs.executeCmd("git pull",e)}static async processUpdateCheck(e){if(!await hs.isGitRepo(e.path))return null;const t=await hs.getBranchName(e.path),n=await hs.getDiff(e.path,t);return n.length?{type:"addon",api:"git",commits:n,name:e.displayName,path:e.path,branch:t,currentCommit:await hs.getLatestCommit(e.path,t),repoUrl:await hs.getRemoteURL(e.path),id:gs(),failed:!1,entityId:e.entityID}:null}static async processCoreUpdateCheck(){if(!PCCompatNative.isPacked){const e=PCCompatNative.getBasePath(),t=await hs.getBranchName(e),n=await hs.getDiff(e,t);return n.length?{type:"core",api:"git",commits:n,id:gs(),failed:!1,repoUrl:await hs.getRemoteURL(e),currentCommit:await hs.getLatestCommit(e,t),branch:t}:null}return fs.fetchRelease().then((e=>e.message?.indexOf("API rate limit exceeded")>-1?null:fs.hasUpdateAvailable(e)?{type:"core",from:fs.currentRelease,to:e.name,api:"github",release:e,id:gs(),failed:!1}:void 0))}static async fetchPendingUpdates(){const e=[],t=[].concat(Gn.addons,Kn.addons).map((e=>()=>this.processUpdateCheck(e)));return t.unshift((()=>this.processCoreUpdateCheck())),this.getSetting("useQueue",!1)?await t.reduce(((t,n)=>t.then((async()=>{const t=await n();t&&e.push(t)}))),Promise.resolve()):await Promise.allSettled(t.map((async t=>{const n=await t();n&&e.push(n)}))),e}static async fetchAllUpdates(){if(await hs.hasGitInstalled())return cs.startFetching(),this.fetchPendingUpdates().then((e=>{cs.stopFetching(),cs.setUpdates(e),cs.updateLastCheckedUpdate()}))}static async updateAll(){if(await hs.hasGitInstalled()){cs.startUpdatingAll();for(const e of cs.getUpdates())if(!cs.isIgnored(e.entityId??e.type)){switch(e.type){case"addon":try{await ys.installAddonUpdate(e.path,!1)}catch(t){console.error(t),e.failed=!0}break;case"core":try{const t=e.release.assets.find((e=>"powercord.asar"===e.name));await ys.installCoreUpdate(t.url,t.content_type)}catch(t){console.error(t),e.failed=!0}}cs.removeUpdate(e.id)}cs.stopUpdatingAll(),cs.emitChange()}}static getSetting(e,t){return Xa.tryLoadData("updater",os)[e]??t}}function vs(){return vs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vs.apply(this,arguments)}function Cs(){return Cs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Cs.apply(this,arguments)}function ws(){return ws=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ws.apply(this,arguments)}function Es(){return Es=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Es.apply(this,arguments)}function bs(){return bs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bs.apply(this,arguments)}function Rs(){return Rs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Rs.apply(this,arguments)}function Ss(){return Ss=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ss.apply(this,arguments)}function Os(){return Os=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Os.apply(this,arguments)}function Ns(){return Ns=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ns.apply(this,arguments)}const Ps={FolderOpened:function(e){return React.createElement("svg",vs({width:"24",height:"24",viewBox:"0 0 576 512"},e),React.createElement("path",{fill:"currentColor",d:"M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z"}))},Folder:function(e){return React.createElement("svg",Cs({width:"24",height:"24",viewBox:"0 0 512 512"},e),React.createElement("path",{fill:"currentColor",d:"M464 128H272l-64-64H48C21.49 64 0 85.49 0 112v288c0 26.51 21.49 48 48 48h416c26.51 0 48-21.49 48-48V176c0-26.51-21.49-48-48-48z"}))},PaintBrush:function(e){return React.createElement("svg",ws({width:"24",height:"24",viewBox:"0 0 512 512"},e),React.createElement("path",{fill:"currentColor",d:"M167.02 309.34c-40.12 2.58-76.53 17.86-97.19 72.3-2.35 6.21-8 9.98-14.59 9.98-11.11 0-45.46-27.67-55.25-34.35C0 439.62 37.93 512 128 512c75.86 0 128-43.77 128-120.19 0-3.11-.65-6.08-.97-9.13l-88.01-73.34zM457.89 0c-15.16 0-29.37 6.71-40.21 16.45C213.27 199.05 192 203.34 192 257.09c0 13.7 3.25 26.76 8.73 38.7l63.82 53.18c7.21 1.8 14.64 3.03 22.39 3.03 62.11 0 98.11-45.47 211.16-256.46 7.38-14.35 13.9-29.85 13.9-45.99C512 20.64 486 0 457.89 0z"}))},Save:function(e){return React.createElement("svg",Es({width:"24",height:"24",viewBox:"0 0 448 512"},e),React.createElement("path",{fill:"currentColor",d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"}))},VerifiedShield:function(e){return React.createElement("svg",bs({xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},e),React.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),React.createElement("path",{d:"M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4zm-2 16l-4-4 1.41-1.41L10 14.17l6.59-6.59L18 9l-8 8z",fill:"currentColor"}))},Sass:function(e){return React.createElement("svg",Rs({width:"24",height:"24",viewBox:"0 0 500 500",xmlSpace:"preserve",xmlns:"http://www.w3.org/2000/svg"},e),React.createElement("path",{d:"M419.047 96.227C406.855 48.39 327.54 32.67 252.472 59.336c-44.68 15.876-93.029 40.785-127.81 73.31-41.349 38.675-47.943 72.329-45.216 86.396 9.583 49.621 77.585 82.068 105.535 106.125v.144c-8.246 4.051-68.565 34.585-82.684 65.8-14.893 32.932 2.372 56.556 13.804 59.742 35.424 9.858 71.765-7.866 91.312-37.01 18.852-28.12 17.279-64.422 9.085-82.488 11.3-2.976 24.476-4.313 41.218-2.36 47.248 5.52 56.517 35.017 54.747 47.367s-11.681 19.14-14.998 21.185-4.326 2.767-4.05 4.287c.406 2.216 1.94 2.137 4.758 1.652 3.894-.655 24.804-10.042 25.709-32.827 1.14-28.934-26.587-61.302-75.684-60.45-20.216.354-32.933 2.268-42.123 5.69-.681-.774-1.363-1.548-2.084-2.308-30.35-32.382-86.46-55.285-84.088-98.823.866-15.824 6.372-57.5 107.817-108.053 83.104-41.414 149.638-30.009 161.135-4.759 16.427 36.079-35.554 103.137-121.857 112.812-32.88 3.684-50.199-9.06-54.499-13.805-4.536-4.995-5.204-5.218-6.909-4.287-2.753 1.534-1.01 5.939 0 8.574 2.583 6.712 13.15 18.603 31.176 24.516 15.863 5.204 54.459 8.062 101.157-9.99 52.282-20.255 93.12-76.523 81.124-123.549zM196.584 339.995c3.92 14.5 3.487 28.016-.564 40.247a65.289 65.289 0 0 1-3.225 7.97c-3.12 6.477-7.315 12.534-12.441 18.132-15.654 17.07-37.508 23.533-46.882 18.092-10.12-5.873-5.047-29.943 13.084-49.11 19.52-20.635 47.602-33.902 47.602-33.902l-.039-.08 2.465-1.35z",fill:"#ec407a",stroke:"#ec407a","stroke-width":"16.286552999999998"}))},Css:function(e){return React.createElement("svg",Ss({width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},e),React.createElement("path",{d:"m5 3-.65 3.34h13.59L17.5 8.5H3.92l-.66 3.33h13.59l-.76 3.81-5.48 1.81-4.75-1.81.33-1.64H2.85l-.79 4 7.85 3 9.05-3 1.2-6.03.24-1.21L21.94 3H5z",fill:"#42a5f5"}))},WarningShield:function(e){return React.createElement("svg",Os({xmlns:"http://www.w3.org/2000/svg","enable-background":"new 0 0 24 24",height:"24",viewBox:"0 0 24 24",width:"24"},e),React.createElement("g",null,React.createElement("path",{d:"M0,0h24v24H0V0z",fill:"none"})),React.createElement("g",null,React.createElement("path",{d:"M12,2L4,5v6.09c0,5.05,3.41,9.76,8,10.91c4.59-1.15,8-5.86,8-10.91V5L12,2z M13,16h-2v-2h2V16z M13,12h-2V7h2V12z",fill:"currentColor"})))}};function Ms({name:e,...t}){const n=Ps[e];let r={};return n?(t.size&&(r.width=r.height=t.size),React.createElement(n,Ns({},t,r))):null}class xs{constructor(e,t){const n=this.render,r=()=>n.call(this);this.render=()=>React.createElement(r)}render(){return null}isMounted(){return!!this._isMounted}forceUpdate(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")}isReactComponent(){return!0}replaceState(e,t){this.updater.enqueueReplaceState(this,t,e)}setState(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw"Silly.";this.updater.enqueueSetState(this,e,t,"setState")}}function Ls(){return Ls=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ls.apply(this,arguments)}class js extends xs{static open(){L.ModalsApi.openModal((e=>React.createElement(js,Ls({},e))))}state={branches:[],loaded:!1,selectedBranch:null};async componentDidMount(){const e=this.initialBranch=await hs.getBranchName(PCCompatNative.getBasePath()),t=await hs.getBranches(PCCompatNative.getBasePath());this.setState({branches:t,loaded:!0,selectedBranch:e})}renderItem(e){const{Flex:t}=L,n=this.state.selectedBranch===e;return React.createElement(t,{direction:t.Direction.HORIZONTAL,align:t.Align.CENTER,onClick:()=>this.setState({selectedBranch:e}),className:"pc-branch-item"},React.createElement("svg",{width:"16",height:"16",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg"},React.createElement("path",{transform:"translate(2.000000, 2.000000)",fillRule:"nonzero",fill:"currentColor",d:"M4,0 L4,3 L0,3 L0,0 L4,0 Z M12,4 L12,7 L8,7 L8,4 L12,4 Z M8,9 L12,9 L12,12 L8,12 L8,9.33333333 L8,9 Z M7,7 L3,7 L3,10 L7,10 L7,12 L3,12 L1,12 L1,4 L3,4 L3,5 L7,5 L7,7 Z"})),React.createElement(t.Child,{grow:1},React.createElement("span",{className:"pc-branch-name"},e)),React.createElement(fn,{name:n?"RadioSelected":"RadioEmpty",foreground:n&&"pc-radio-dot"}))}switchBranch(){if(this.state.selectedBranch===this.initialBranch)return this.props.onClose();hs.executeCmd(`git switch ${this.state.selectedBranch}`,PCCompatNative.getBasePath()).then((()=>{Sr.show({timeout:3e3,type:"success",header:"Branch Switched",content:`Successfully switched branch to \`${this.state.selectedBranch}\``,id:"branch-switch-success"})})).catch((e=>{console.error(e),Sr.show({timeout:3e3,type:"danger",header:"Failed",id:"branch-switch-failed",content:"Failed to switch branch. See console for more details."})})),this.props.onClose()}render(){const{ModalComponents:{ModalRoot:e,ModalHeader:t,ModalContent:n,ModalFooter:r,ModalSize:a,ModalCloseButton:s},Header:o,Flex:i,Button:c,Spinner:l}=L;return React.createElement(e,Ls({size:a.SMALL},this.props),React.createElement(t,{separator:!1},React.createElement(o,{className:"pc-modal-title",size:o.Sizes.SIZE_24},"Select a branch"),React.createElement(s,{onClick:this.props.onClose})),React.createElement(n,{className:"pc-branch-modal-inner"},this.state.loaded?this.state.branches.map((e=>this.renderItem(e))):React.createElement(l,{type:l.Type.WANDERING_CUBES})),React.createElement(r,null,React.createElement(i,{direction:i.Direction.HORIZONTAL,justify:i.Justify.END},React.createElement(c,{look:c.Looks.LINK,color:c.Colors.TRANSPARENT,onClick:this.props.onClose},"Cancel"),React.createElement(c,{onClick:()=>this.switchBranch()},"Select"))))}}function As(){return As=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},As.apply(this,arguments)}const ks=PCCompatNative.getBasePath(),Is=function(e){let t=null;const n=(...e)=>t||(t??=(()=>{const e=ne.resolve(ks,"git.json");return te.existsSync(e)?JSON.parse(te.readFileSync(e,"utf8")):null})(...e),t);return n.expire=()=>t=null,n}(),Ts=()=>React.createElement(L.Spinner,{type:L.Spinner.Type.LOW_MOTION,className:"pc-spinner"}),_s=ds((async()=>{const{Link:e}=L,t=PCCompatNative.isPacked?Is().branchName:await hs.getBranchName(ks);return React.createElement(e,{href:`https://github.com/strencher-kernel/pc-compat/tree/${t}`,onClick:e=>{e.preventDefault(),e.stopPropagation(),js.open()}},t)}),Ts),Bs=ds((async()=>{const{Text:e,Link:t}=L,n=PCCompatNative.isPacked?Is().latestCommit:await hs.getLatestCommit(ks,await hs.getBranchName(ks));return n.hasError?React.createElement(e,{color:e.Colors.RED},"error"):React.createElement(t,{href:`https://github.com/strencher-kernel/pc-compat/tree/${n.full}`},n.short)}),Ts);function Ds({hasPendingUpdates:e,onUpdate:t}){const n=React.useContext(wn),{Flex:r,Text:a,Moment:s,Button:o,Tooltips:i}=L,c=function(e){const[t,n]=React.useState(null);return React.useEffect((()=>{e.then((e=>n(e)))}),[]),t}(hs.hasGitInstalled()),l=cs.useState((()=>cs.isFetching())),d=cs.useState((()=>cs.isUpdatingAll())),u=cs.useState((()=>cs.getLastCheckedUpdate())),p=React.useMemo((()=>l?"Fetching updates...":e?"Something needs to be updated!":d?"Updating...":"Everything is up to date."),[l,d,e]),h=React.useMemo((()=>l||d?React.createElement(fn,{name:"UpdateAvailable",width:"70",height:"70",className:"pcu-shield"}):React.createElement(Ms,{name:e?"WarningShield":"VerifiedShield",size:"70",className:de("pcu-shield",e?"pcu-shield-warn":"pcu-shield-ok")})),[l,e]);return React.createElement(r,{className:"pcu-card",direction:r.Direction.VERTICAL},React.createElement(r,{justify:r.Justify.BETWEEN,align:r.Align.CENTER},React.createElement(r,{className:"pcu-shield-container",direction:r.Direction.HORIZONTAL,align:r.Align.START,justify:r.Justify.CENTER},h,React.createElement(r.Child,null,React.createElement(a,{size:a.Sizes.SIZE_24,color:a.Colors.HEADER_PRIMARY},p),React.createElement(a,{size:a.Sizes.SIZE_14,color:a.Colors.HEADER_SECONDARY},"Last Checked:","---"!==u&&null!=u?" "+s(u).calendar():" "+u))),React.createElement("div",{className:"pcu-git-info"},React.createElement(a,{className:"pcu-git-info-item"},"Branch: ",React.createElement(_s,null)),React.createElement(a,{className:"pcu-git-info-item"},"Commit: ",React.createElement(Bs,null)))),React.createElement(me,null),React.createElement(r,{direction:r.Direction.HORIZONTAL,className:"pc-updater-card-actions"},e&&React.createElement(o,{color:o.Colors.GREEN,size:o.Sizes.SMALL,onClick:()=>ys.updateAll()},"Update All"),React.createElement(o,{disabled:!c||l,color:o.Colors.BRAND,size:o.Sizes.SMALL,onClick:t},"Check for Updates"),React.createElement(i.Tooltip,{text:"Settings"},(e=>React.createElement(o,As({},e,{size:o.Sizes.NONE,look:o.Looks.BLANK,className:"pc-updater-settings-button",onClick:()=>{n.setPage({label:"Settings",render:()=>React.createElement(ss,null)})}}),React.createElement(fn,{name:"Gear",width:"20",height:"20"}))))))}function Us(){return Us=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Us.apply(this,arguments)}function Fs(e){return React.createElement("svg",Us({xmlns:"http://www.w3.org/2000/svg",height:"24",viewBox:"0 0 24 24",width:"24"},e),React.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),React.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z",fill:"currentColor"}))}function Hs(){return Hs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Hs.apply(this,arguments)}class $s extends xs{state={isInstalling:!1};renderCommits(){const{Link:e}=L,t=this.props;return React.createElement("ul",null,t.commits.map((n=>React.createElement("li",null,React.createElement("div",{className:"pc-update-commit"},React.createElement("div",{className:"pc-commit-hash"},React.createElement(e,{href:`${t.repoUrl}/commit/${n.hash}`},n.hash_short)),React.createElement("div",{className:"pc-commit-message"},n.message),React.createElement("div",{className:"pc-commit-author"},React.createElement("span",{className:"pc-commit-author-username"},n.author),React.createElement("span",null,"-"),React.createElement("span",{className:"pc-commit-timestamp"},n.date)))))))}renderReleaseAuthor(){const{Moment:e}=L,t=this.props;return React.createElement(React.Fragment,null,React.createElement("div",{className:"pc-release-header"},React.createElement("img",{src:t.release.author.avatar_url,className:"pc-update-author-img"}),React.createElement("div",{className:"pc-release-author"},t.release.author.login),"Bot"===t.release.author.type&&React.createElement("div",{className:"pc-bot-tag"},"Bot"),React.createElement("div",{className:"pc-release-timestamp"},e(new Date(t.release.created_at)).calendar())),React.createElement("div",{className:"pc-update-info pc-update-version-compare"},React.createElement("b",null,"Version:"),React.createElement(React.Fragment,null,React.createElement("span",null,t.from),React.createElement("span",{className:"pc-update-version-arrow"},React.createElement("svg",{"aria-hidden":"false",width:"16",height:"16",viewBox:"0 0 24 24"},React.createElement("polygon",{fill:"currentColor","fill-rule":"nonzero",points:"13 20 11 20 11 8 5.5 13.5 4.08 12.08 12 4.16 19.92 12.08 18.5 13.5 13 8"}))),React.createElement("span",null,t.to))),React.createElement("div",{className:"pc-update-info pc-update-note"},React.createElement("b",null,"Note:"),React.createElement("span",null,t.release.body)))}renderTitle(){switch(this.props.type){case"core":return"Core - New Release";case"addon":{const e=this.props;return`${e.name}${e.commits.length>1?` (${e.commits.length})`:""}`}}}renderButton({label:e,onClick:t,icon:n,disabled:r=!1,className:a="",color:s=L.Button.Colors.BRAND}){const{Tooltips:o,Button:i}=L;return React.createElement(o.Tooltip,{text:e},(e=>React.createElement(i,Hs({},e,{color:s,disabled:r,size:i.Sizes.TINY,onClick:t,className:r?null:a,wrapperClassName:r?a:null}),n)))}style(e,t){return{"--border":e?"#ed4245":t?"#FAA81A":null}}async installCoreUpdate(){const e=this.props;try{if("github"===e.api){const t=e.release.assets.find((e=>"powercord.asar"===e.name));await ys.installCoreUpdate(t.url,t.content_type)}else await ys.installCoreUpdate(null,null);this.setState({isInstalling:!0}),cs.removeUpdate(e.id)}catch(t){console.error(t);const n=cs.getUpdate(e.id);if(!n)return;n.failed=!0,cs.emitChange(),this.setState({isInstalling:!1})}}async installAddonUpdate(e){const t=this.props;if(e){const e=await new Promise((e=>{vn.showConfirmationModal("Are you sure?","Are you sure you want to force the update? This will delete your local changes if you have any.",{onConfirm:e.bind(null,!0),onCancel:e.bind(null,!1)})}));if(!e)return}this.setState({isInstalling:!0});try{await ys.installAddonUpdate(t.path,e),cs.removeUpdate(t.id)}catch(e){console.error(e);const n=cs.getUpdate(t.id);if(!n)return;n.failed=!0,cs.emitChange(),this.setState({isInstalling:!1})}}handleInstall(e){switch(this.props.type){case"addon":return this.installAddonUpdate(e);case"core":return this.installCoreUpdate()}}render(){const{props:e,state:t}=this,{Forms:n,Button:r,Tooltips:a,Spinner:s}=L,o=cs.useState((()=>cs.getUpdate(e.id).failed)),i=cs.useState((()=>cs.isIgnored(e.entityId??e.type)));return React.createElement("div",{className:`pc-update pc-${e.type}-update`,style:this.style(o,i)},React.createElement(n.FormItem,{title:this.renderTitle()},o&&React.createElement(a.Container,{text:"Update failed! Check console for more details.",className:"pc-update-error"},React.createElement(Fs,null)),"addon"===this.props.type?this.renderCommits():"github"===this.props.api?this.renderReleaseAuthor():this.renderCommits()),React.createElement("div",{className:"pc-update-actions"},this.renderButton({color:r.Colors.PRIMARY,label:i?"Acknowledge Updates":"Ignore Updates",onClick:()=>{const t=e.entityId??e.type;i?cs.acknowledge(t):cs.ignore(t)},icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20",viewBox:"0 0 24 24",width:"20"},React.createElement("path",{d:"M0 0h24v24H0z",fill:"none"}),React.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM4 12c0-4.42 3.58-8 8-8 1.85 0 3.55.63 4.9 1.69L5.69 16.9C4.63 15.55 4 13.85 4 12zm8 8c-1.85 0-3.55-.63-4.9-1.69L18.31 7.1C19.37 8.45 20 10.15 20 12c0 4.42-3.58 8-8 8z",fill:"currentColor"}))}),this.renderButton({label:"Open In Browser",color:r.Colors.BRAND,onClick:()=>{switch(e.type){case"core":return window.open("github"===e.api?e.release.url:e.repoUrl,"_blank");case"addon":return window.open(e.repoUrl,"_blank")}},icon:React.createElement("svg",{className:"pc-icon",width:"20",height:"20",viewBox:"0 0 24 24"},React.createElement("g",{fill:"none","fill-rule":"evenodd"},React.createElement("path",{fill:"currentColor",d:"M10.59 13.41c.41.39.41 1.03 0 1.42-.39.39-1.03.39-1.42 0a5.003 5.003 0 0 1 0-7.07l3.54-3.54a5.003 5.003 0 0 1 7.07 0 5.003 5.003 0 0 1 0 7.07l-1.49 1.49c.01-.82-.12-1.64-.4-2.42l.47-.48a2.982 2.982 0 0 0 0-4.24 2.982 2.982 0 0 0-4.24 0l-3.53 3.53a2.982 2.982 0 0 0 0 4.24zm2.82-4.24c.39-.39 1.03-.39 1.42 0a5.003 5.003 0 0 1 0 7.07l-3.54 3.54a5.003 5.003 0 0 1-7.07 0 5.003 5.003 0 0 1 0-7.07l1.49-1.49c-.01.82.12 1.64.4 2.43l-.47.47a2.982 2.982 0 0 0 0 4.24 2.982 2.982 0 0 0 4.24 0l3.53-3.53a2.982 2.982 0 0 0 0-4.24.973.973 0 0 1 0-1.42z"}),React.createElement("rect",{width:"24",height:"24"})))}),("addon"===e.type||"git"===e.api)&&this.renderButton({label:"Compare Changes",color:r.Colors.BRAND,onClick:()=>{const e=this.props;window.open(`${e.repoUrl.replace(".git","")}/compare/${e.currentCommit.full}...${e.commits[0].hash}`,"_blank")},icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg","enable-background":"new 0 0 24 24",height:"20",viewBox:"0 0 24 24",width:"20"},React.createElement("g",null,React.createElement("rect",{fill:"none",height:"20",width:"20"})),React.createElement("g",null,React.createElement("path",{d:"M14,2H6C4.9,2,4,2.9,4,4v16c0,1.1,0.89,2,1.99,2H15v-8h5V8L14,2z M13,9V3.5L18.5,9H13z M17,21.66V16h5.66v2h-2.24 l2.95,2.95l-1.41,1.41L19,19.41l0,2.24H17z",fill:"currentColor"})))}),this.renderButton({label:o&&"addon"===e.type?"Force Update":"Install Update",color:o&&"addon"===e.type?r.Colors.RED:r.Colors.GREEN,disabled:t.isInstalling,className:"pc-updater-install-button",onClick:()=>{this.handleInstall(o)},icon:t.isInstalling?React.createElement(s,{className:"pc-update-spinner",type:s.Type.SPINNING_CIRCLE}):React.createElement("svg",{x:"0",y:"0",className:"pc-icon",width:"20",height:"20",viewBox:"0 0 24 24"},React.createElement("path",{fill:"currentColor","fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.293 9.293L17.707 10.707L12 16.414L6.29297 10.707L7.70697 9.293L11 12.586V2H13V12.586L16.293 9.293ZM18 20V18H20V20C20 21.102 19.104 22 18 22H6C4.896 22 4 21.102 4 20V18H6V20H18Z"}))})))}}function zs(){return zs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},zs.apply(this,arguments)}function Vs(){const{Forms:{FormNotice:e}}=L,t=cs.useState((()=>cs.getUpdates())),n=function(e){const[t,n]=React.useState(null);return React.useEffect((()=>{e.then((e=>n(e)))}),[]),t}(hs.hasGitInstalled());return React.createElement("div",null,!1===n&&React.createElement(e,{className:"pc-margin-bottom-20",type:e.Types.DANGER,title:"Git installation not found!",imageData:{src:"/assets/6e97f6643e7df29b26571d96430e92f4.svg",width:60,height:60},body:"It seems like you don't have git installed locally. The updater will not work properly."}),React.createElement(Ds,{hasPendingUpdates:t.length>0,onUpdate:function(){ys.fetchAllUpdates()}}),t.map(((e,t)=>React.createElement($s,zs({},e,{key:e.id+"-"+t})))))}const qs=new R("Updater"),Js=new R("DevServer"),Gs=(new class e{_ws=null;close(){this._ws&&(Js.log("DevServer","Closing WebSocket"),this._ws=null)}initialize(){const t=window;t.PCDevServer&&null!=t.PCDevServer.ws?(Js.log("Taking over socket"),this._ws=t.PCDevServer.ws):(Js.log("Loading development server..."),this._ws=new WebSocket("ws://localhost:5858")),t.PCDevServer=e,this._ws.onmessage=this.handleMessage,this._ws.onerror=e=>{Js.error("DevServer","Fatal error:",e)},this._ws.onclose=()=>{this._ws=null,Js.error("Connection closed...")}}handleMessage=({data:e})=>{const t=he(e);if(!t)return Js.error("Unable to parse message:",e);switch(t.operation){case"HELLO":this.send("HELLO",{client:`Discord->${window.DiscordNative.app.getReleaseChannel()}`}),Js.log("WS Connected");break;case"RELOAD_STYLES":this.reloadStyles();break;case"RELOAD_CORE":this.reloadCore();break;default:Js.log("Unknown operation:",t.operation)}};send(e,t){if(!this._ws)throw"Tried sending message without connection established";this._ws.send(JSON.stringify({operation:e,data:t}))}reloadCore(){const e=window.require("path"),t=window.require("fs");Js.log("Reloading core..."),j.dispatchEvent(new Event("reload-core"));const n=t.readFileSync(e.join(PCCompatNative.getBasePath(),"dist","renderer.js"),"utf8"),r=document.head.appendChild(Object.assign(document.createElement("script"),{type:"module",textContent:n+";__webpack_exports__default.start();",onload:()=>r.remove()}))}reloadStyles(){j.dispatchEvent(new Event("reload-css"))}reload(e){switch(e){case"core":this.reloadCore();break;case"styles":this.reloadStyles();break;case"backend":window.DiscordNative.app.relaunch()}}},R.create("Core")),Zs=new class{promises={cancelled:!1,cancel(){this.cancelled=!0}};start(){Gs.log("Loading"),x.then(this.onStart.bind(this))}async onStart(){Kn.initialize(),this.expose("powercord",Wa("powercord")),this.expose("PCInternals",y),await async function(){for(const[e,t]of Object.entries(cn))dn[e]=await ln(t);Object.freeze(dn)}(),powercord.api.commands.initialize(),Object.defineProperty(window,"powercord_require",{value:Wa,configurable:!1,writable:!1});{const e=ne.resolve(PCCompatNative.getBasePath(),...PCCompatNative.isPacked?["style.css"]:["dist","style.css"]);mr.injectCSS("core",Wa(e)),mr.injectCSS("font-awesome","https://kit-pro.fontawesome.com/releases/v5.15.2/css/pro.min.css",{type:"URL",documentHead:!0})}$n.patchSettingsView(),Gn.initialize(),class{static config={};static settings=["fetchPeriod","autoFetch"];static clearPeriod=()=>{};static getName(){return this.constructor.name}static getPeriod(){return 6e4*this.config.fetchPeriod}static get shouldAutomaticallyFetch(){return this.config.autoFetch}static loadData(){return Xa.tryLoadData("updater",os)}static initialize(){this.config=this.loadData(),$n.registerPanel("pc-updater",{label:"Updater",order:3,icon:React.createElement(ls,{type:"sidebar"}),render:()=>React.createElement(Vs,null)}),j.addEventListener("reload-core",(()=>{O.unpatchAll(this.getName())}));try{this.patchPanelButton()}catch(e){qs.error("Failed to patch settings button:",e)}this.startFetchInterval(),Xa.on("data-update",(e=>{if("updater"!==e)return;const t=this.loadData();this.settings.every((e=>this.config[e]===t[e]))||(this.config=t,this.clearPeriod(),this.startFetchInterval())}))}static patchPanelButton(){const e=V(E.findByDisplayName("AccountConnected"))({})?.type;let t=null,n=0;function r(){const e=t.apply(this,arguments);if(n>10)return e;try{const t=e?.props?.children;if(!t)return e;e.props.children=e=>{const n=t.call(null,e);try{n?.props?.children?.unshift(React.createElement(ls,{className:"pc-settings-update-badge",type:"gear"}))}catch(e){qs.error("Error in PanelButton patch:",e)}return n}}catch(e){qs.error("Error in PanelButton patch:",e),n++}return e}O.after(this.getName(),e.prototype,"renderSettingsGear",((e,n,a)=>{a&&(t??=a.type,a.type=r)})),this.forceUpdateAccount()}static startFetchInterval(){if(!this.shouldAutomaticallyFetch)return;const e=()=>{qs.log("Fetching for updates..."),ys.fetchAllUpdates().then((()=>{cs.getPendingUpdateCount()&&(Sr.isShown("update-notice")||Sr.show({timeout:0,icon:"wrench",id:"update-notice",header:"Updates Available",content:"Updates are available! Go check them out in the updater panel.",buttons:[{text:"Update Now",color:"green",onClick(){Sr.close("update-notice")}},{text:"Open Updater",color:"blue",onClick(){L.UserSettingsWindow.open("pc-updater"),Sr.close("update-notice")}}]}))}))};e(),this.clearPeriod=clearInterval.bind(null,setInterval(e,this.getPeriod()))}static forceUpdateAccount(){const e=E.findByProps("container","hasBuildOverride"),[t]=document.getElementsByClassName(e?.container??"");if(!t)return;const n=U(t,(e=>"Account"===e?.constructor?.displayName));n&&n.forceUpdate?.()}}.initialize(),this.checkForChangelog(),this.patchSettingsHeader(),j.addEventListener("reload-core",(()=>{mr.clearCSS("core"),mr.clearCSS("font-awesome")}))}expose(e,t){Object.defineProperty(window,e,{value:t,configurable:!0,writable:!0})}checkForChangelog(){const{latestUsedVersion:e}=Xa.tryLoadData("info",{latestUsedVersion:"0.0.0"});e!==es.i8&&(Xa.trySaveData("info",{latestUsedVersion:es.i8}),vn.showChangeLog("PCCompat Changelog",es.VI))}async patchSettingsHeader(){const{Webpack:e,DiscordModules:{Button:t,Tooltips:n}}=y,r=await e.findLazy(e.Filters.byProps("Header","Panel"));if(this.promises.cancelled)return;const a=O.after("SettingsHeader",r.default,"Header",((e,[r],a)=>{if("Powercord"!==r.children)return a;a.props.children=[a.props.children,React.createElement(n.Tooltip,{text:"Changelog",position:"top"},(e=>React.createElement(t,{...e,look:t.Looks.BLANK,size:t.Sizes.NONE,className:"pc-changelog-button",onClick:()=>{vn.showChangeLog("PCCompat Changelog",es.VI)},children:React.createElement(fn,{name:"Info"})})))]}));j.addEventListener("reload-core",(()=>{a()}))}stop(){}};var Ws=t.Z;export{Ws as default};